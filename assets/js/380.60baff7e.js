(window.webpackJsonp=window.webpackJsonp||[]).push([[380],{727:function(e,t,a){"use strict";a.r(t);var o=a(42),n=Object(o.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"celo-overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#celo-overview"}},[e._v("#")]),e._v(" Celo Overview")]),e._v(" "),a("p",[e._v("Celo’s aim is to empower anyone with a smartphone anywhere in the world to have access to financial services, send money to phone numbers, and pay merchants -- on a decentralized platform that is operated by a community of users.")]),e._v(" "),a("p",[e._v("To achieve this, Celo is a complete stack of new blockchain software, core libraries that run on that blockchain, and end user applications including a Wallet app that communicate with that logic.")]),e._v(" "),a("p",[e._v("This page provides some background on blockchain technology and explores the Celo software stack.")]),e._v(" "),a("h3",{attrs:{id:"background-and-key-concepts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#background-and-key-concepts"}},[e._v("#")]),e._v(" Background and Key Concepts")]),e._v(" "),a("p",[e._v("A "),a("strong",[e._v("blockchain")]),e._v(" or "),a("strong",[e._v("cryptographic network")]),e._v(" is a broad term used to describe a database maintained by a distributed set of computers that do not share a trust relationship or common ownership. This arrangement is referred to as "),a("strong",[e._v("decentralized")]),e._v(". The content of a blockchain's database, or "),a("strong",[e._v("ledger")]),e._v(", is authenticated using cryptographic techniques, preventing its contents from being added to, edited or removed except according to a protocol operated by the network as a whole.")]),e._v(" "),a("p",[e._v("The code of the Celo Blockchain has shared ancestry with "),a("a",{attrs:{href:"https://www.ethereum.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("Ethereum"),a("OutboundLink")],1),e._v(", blockchain software for building general-purpose decentralized applications. Celo differs from Ethereum in several important areas as described in the following sections. However, it inherits a number of key concepts.")]),e._v(" "),a("p",[e._v("Ethereum applications are built using "),a("strong",[e._v("smart contracts")]),e._v(". Smart contracts are programs written in languages like "),a("a",{attrs:{href:"https://solidity.readthedocs.io/en/v0.5.10/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Solidity"),a("OutboundLink")],1),e._v(" that produce bytecode for the "),a("strong",[e._v("Ethereum Virtual Machine")]),e._v(" or "),a("strong",[e._v("EVM")]),e._v(", a runtime environment. Programs encoded in smart contracts receive messages and manipulate the blockchain ledger and are termed "),a("strong",[e._v("on-chain")]),e._v(".")]),e._v(" "),a("p",[e._v("Celo has a native unit of accounting, the cryptocurrency "),a("strong",[e._v("CELO")]),e._v(", comparable to Ether on Ethereum. Celo's ledger consists of "),a("strong",[e._v("accounts")]),e._v(", identified by an "),a("strong",[e._v("address")]),e._v(". There are two types of accounts. "),a("strong",[e._v("Externally owned accounts")]),e._v(" have an associated CELO balance and are controlled by a user holding the associated public-private keypair. "),a("strong",[e._v("Contract accounts")]),e._v(" contain the code and data of a single smart contract which can be called and manipulate its own stored data.")]),e._v(" "),a("p",[a("strong",[e._v("ERC-20")]),e._v(" is a standard interface for implementing cryptocurrencies or "),a("strong",[e._v("tokens")]),e._v(" as contracts, rather than via account balances. In Celo, CELO has a duality as both the native currency and is also an ERC-20 token on the Celo blockchain.")]),e._v(" "),a("p",[e._v('{% hint style="warning" %}\nCelo assets exist on an independent blockchain, and cannot be accessed through wallets that connect to the Ethereum network. Only use wallets designed to work with the Celo network.\n{% endhint %}')]),e._v(" "),a("p",[e._v("Users interact with the blockchain by creating signed "),a("strong",[e._v("transactions.")]),e._v(" These are requests to make a change to the ledger. They can: transfer value between accounts; execute a function in a smart contract and pass in arguments (perhaps causing other smart contracts to be called, update their storage, or transfer value); or create a new smart contract.")]),e._v(" "),a("p",[e._v("The blockchain is updated by a protocol that takes the current state of the ledger, applies a number of transactions in turn, each of which may execute code and result in updates to the global state. This creates a new "),a("strong",[e._v("block")]),e._v(" that consists of a "),a("strong",[e._v("header")]),e._v(", identifying the previous block and other metadata, and a data structure that describes the new state.")]),e._v(" "),a("p",[e._v("To avoid Denial-of-Service attacks and ensure termination of calls to smart contract code, the account sending a transaction pays "),a("strong",[e._v("transaction fees")]),e._v(" for its execution steps using its own balance. Transactions specify a "),a("strong",[e._v("maximum gas")]),e._v(" which bounds the steps of execution before a transaction is reverted. A "),a("strong",[e._v("gas price")]),e._v(" determines the unit price for each step, and is used to prioritize which transactions the network applies. (In Celo transaction fees can be paid in ERC-20 currencies and gas pricing works differently from Ethereum).")]),e._v(" "),a("p",[e._v("For a more in depth explanation of Ethereum, see the "),a("a",{attrs:{href:"https://github.com/ethereum/wiki/wiki/White-Paper",target:"_blank",rel:"noopener noreferrer"}},[e._v("Ethereum White Paper"),a("OutboundLink")],1),e._v(" or "),a("a",{attrs:{href:"http://ethdocs.org/en/latest/introduction/what-is-ethereum.html#learn-about-ethereum",target:"_blank",rel:"noopener noreferrer"}},[e._v("documentation"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"the-celo-stack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#the-celo-stack"}},[e._v("#")]),e._v(" The Celo Stack")]),e._v(" "),a("p",[e._v("Celo is oriented around providing the simplest possible experience for end users, who may have no familiarity with cryptocurrencies, and may be using low cost devices with limited connectivity. To achieve this, Celo takes a full-stack approach, where each layer of the stack is designed with the end user in mind while considering other stakeholders (e.g. operators of nodes in the network) involved in enabling the end user experience.")]),e._v(" "),a("p",[e._v("The Celo stack is structured into the following logical layers:")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://storage.googleapis.com/celo-website/docs/full-stack-diagram.jpg",alt:""}})]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("Celo Blockchain")]),e._v(": An open cryptographic protocol that allows applications to make transactions with and run smart contracts in a secure and decentralized fashion. The Celo Blockchain code has shared ancestry with "),a("a",{attrs:{href:"https://www.ethereum.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("Ethereum"),a("OutboundLink")],1),e._v(", and maintains full EVM compatibility for smart contracts. However it uses a "),a("a",{attrs:{href:"http://pmg.csail.mit.edu/papers/osdi99.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("Byzantine Fault Tolerant"),a("OutboundLink")],1),e._v(" (BFT) consensus mechanism rather than Proof of Work, and has different block format, transaction format, client synchronization protocols, and gas payment and pricing mechanisms.")]),e._v(" "),a("li",[a("strong",[e._v("Celo Core Contracts")]),e._v(": A set of smart contracts running on the Celo Blockchain that comprise much of the logic of the platform features including ERC-20 stable currencies, identity attestations, proof-of-stake and governance. These smart contracts are upgradeable and managed by the decentralized governance process.")]),e._v(" "),a("li",[a("strong",[e._v("Applications:")]),e._v(" Applications for end users built on the Celo platform. The Celo Wallet app, the first of an ecosystem of applications, allows end users to manage accounts and make payments securely and simply by taking advantage of the innovations in the Celo protocol. Applications take the form of external mobile or backend software: they interact with the Celo Blockchain to issue transactions and invoke code that forms the Celo Core Contracts’ API. Third parties can also deploy custom smart contracts that their own applications can invoke, which in turn can leverage Celo Core Contracts. Applications may use centralized cloud services to provide some of their functionality: in the case of the Celo Wallet, push notifications and a transaction activity feed.")])]),e._v(" "),a("p",[e._v("The Celo Blockchain and Celo Core Contracts together comprise the "),a("strong",[e._v("Celo Protocol")]),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"topology-of-a-celo-network"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#topology-of-a-celo-network"}},[e._v("#")]),e._v(" Topology of a Celo Network")]),e._v(" "),a("p",[e._v("The topology of a Celo network consists of machines running the Celo Blockchain software in several distinct configurations:")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://storage.googleapis.com/celo-website/docs/network.png",alt:""}})]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("Validators:")]),e._v(" Validators gather transactions received from other nodes and execute any associated smart contracts to form new blocks, then participate in a Byzantine Fault Tolerant (BFT) consensus protocol to advance the state of the network. Since BFT protocols can scale only to a few hundred participants, and can tolerate at most a third of the participants acting maliciously, a proof-of-stake mechanism admits only a limited set of nodes to this role.")]),e._v(" "),a("li",[a("strong",[e._v("Full Nodes:")]),e._v(' Most machines running the Celo Blockchain software are either not configured to be, or not elected as, validators. Celo nodes do not do "mining" as in Proof of Work networks. Their primary role is to serve requests from light clients and forward their transactions, for which they receive the fees associated with those transactions. These payments create a ‘permissionless onramp’ for individuals in the community to earn currency. Full nodes maintain at least partial history of the blockchain by transferring new blocks between themselves, and can join or leave the network at any time.')]),e._v(" "),a("li",[a("strong",[e._v("Light Clients:")]),e._v(" Applications including the Celo Wallet will also run on each user's device an instance of the Celo Blockchain software operating as a ‘light client’. Light clients connect to full nodes to make requests for account and transaction data and to sign and submit new transactions, but they do not receive or retain the full state of the blockchain.")])]),e._v(" "),a("p",[e._v("The Celo Wallet application is a fully unmanaged wallet that allows users to self custody their funds using their own keys and accounts. All critical features such as sending transactions and checking balances can be done in a trustless manner using the peer-to-peer light client protocol. However, the wallet does use a few centralized cloud services to improve the user experience where possible, e.g.:")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("Google Play Services:")]),e._v(" to pre-load invitations in the app")]),e._v(" "),a("li",[a("strong",[e._v("Celo Wallet Notification Service:")]),e._v(" sends device push notifications when a user receives a payment or requests for payment")]),e._v(" "),a("li",[a("strong",[e._v("Celo Wallet Blockchain API:")]),e._v(" provides a GraphQL API to query transactions on the blockchain on a per-account basis, used to implement a users' activity feed.")])]),e._v(" "),a("p",[e._v("When an end user downloads the Celo Wallet from, for example, the Google Play Store, users are trusting both cLabs (or the entity that has made the application available in the Play Store) and Google to deliver a correct binary, and most users would feel that relying on these centralized services to provide this additional functionality is worthwhile.")]),e._v(" "),a("h2",{attrs:{id:"the-celo-protocol"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#the-celo-protocol"}},[e._v("#")]),e._v(" The Celo Protocol")]),e._v(" "),a("p",[e._v("The Celo Blockchain and Celo Core Contracts together comprise the "),a("strong",[e._v("Celo Protocol")]),e._v(". This term describes both what services the decentralized Celo network provide to applications and the way in which nodes in the network cooperate to achieve this. This section introduces some of these services.")]),e._v(" "),a("h3",{attrs:{id:"consensus-and-proof-of-stake"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#consensus-and-proof-of-stake"}},[e._v("#")]),e._v(" Consensus and Proof-of-Stake")]),e._v(" "),a("p",[e._v("Celo is a proof-of-stake blockchain. In comparison to Proof of Work systems like Bitcoin and Ethereum, this eliminates the negative environmental impact and means that users can make transactions that are cheaper, faster, and whose outcome cannot be changed once complete.")]),e._v(" "),a("p",[e._v("The Celo Blockchain implements a Byzantine Fault Tolerant (BFT) consensus algorithm in which a well-defined set of validator nodes broadcast signed messages between themselves in a sequence of steps to reach agreement even when up to a third of the total nodes are offline, faulty or malicious. When a quorum of validators have reached agreement, that decision is final.")]),e._v(" "),a("p",[e._v("Celo uses a proof-of-stake mechanism for selecting the validator set for a fixed period termed an epoch. Anyone can earn rewards by locking CELO and by participating in validator elections and governance proposals. Initially, the number of validators will be capped to one hundred nodes elected by CELO holders. Validators earn additional fixed rewards in Celo Dollars to cover their costs plus margin.")]),e._v(" "),a("p",[e._v('{% hint style="success" %}\n'),a("strong",[e._v("Roadmap")]),e._v(": Celo is pioneering a "),a("a",{attrs:{href:"https://medium.com/celohq/bftree-scaling-hotstuff-to-millions-of-validators-7d6930ee046a",target:"_blank",rel:"noopener noreferrer"}},[e._v("highly scalable, permissionless BFT consensus algorithm"),a("OutboundLink")],1),e._v(" that in the long term will result in substantial changes to the proof-of-stake mechanism described here.\n{% endhint %}")]),e._v(" "),a("h3",{attrs:{id:"on-chain-governance"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#on-chain-governance"}},[e._v("#")]),e._v(" On-Chain Governance")]),e._v(" "),a("p",[e._v("Celo uses an on-chain governance mechanism to manage and upgrade aspects of the protocol that reside in the Celo Core Contracts, and for a number of parameters used by the Celo Blockchain. This includes operations like upgrading smart contracts, adding new stable currencies, modifying the reserve target asset allocation, and changing how validator elections are decided.")]),e._v(" "),a("p",[e._v("The Governance contract is set as “owner” for all of the Celo Core Contracts. This allows the protocol to carry out agreed governance proposals by executing code in the context of the Governance contract. Proposals are selected for consideration and voted on by CELO holders using a weighted vote based on the same Locked CELO commitment used to vote to elect validators.")]),e._v(" "),a("h3",{attrs:{id:"ultralight-synchronization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ultralight-synchronization"}},[e._v("#")]),e._v(" Ultralight Synchronization")]),e._v(" "),a("p",[e._v("Celo provides extremely fast, secure synchronization to enable light clients to begin to track the current state of the Celo blockchain ledger almost immediately. This means that even wallet users with high latency, low bandwidth, or high cost data tariffs can use Celo.")]),e._v(" "),a("p",[e._v("In Ethereum, verifying whether data received from an untrusted full node really does represent the current state of a blockchain requires fetching every block header ever produced to confirm they form a cryptographically secure chain. A consequence of Celo using a BFT consensus algorithm is that it can do that verification by building a chain only of changes in the validator set, not each individual block.")]),e._v(" "),a("p",[e._v('{% hint style="success" %}\n'),a("strong",[e._v("Roadmap")]),e._v(": Synchronization performance will be further improved with BLS signature aggregation and succinct zero-knowledge proofs, via zk-SNARKs.\n{% endhint %}")]),e._v(" "),a("h3",{attrs:{id:"incentives-for-operating-full-nodes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#incentives-for-operating-full-nodes"}},[e._v("#")]),e._v(" Incentives for Operating Full Nodes")]),e._v(" "),a("p",[e._v("In Ethereum, there are few incentives to run a full node that is not mining. Few nodes serve light clients, and this results in a poor experience for mobile wallets.")]),e._v(" "),a("p",[e._v("Celo introduces a scheme that incentivizes users to operate regular nodes. Light clients pay transaction fees to full nodes. Clients include in every transaction the address of a node which, when the transaction is processed, receives the fee. While a full node provides other services for which they receive no specific fee, it is expected that failing to service these requests will cause clients to seek other full nodes that do, who will then receive fees when they next make a transaction.")]),e._v(" "),a("p",[e._v("Since light clients need not trust full nodes, as they can verify their work, this also provides the 'permissionless on-ramp' for users to receive CELO or Celo Dollars without already holding it that is missing in other proof-of-stake networks.")]),e._v(" "),a("h3",{attrs:{id:"stable-cryptocurrencies"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stable-cryptocurrencies"}},[e._v("#")]),e._v(" Stable Cryptocurrencies")]),e._v(" "),a("p",[e._v("Celo enables a family of stable-value ERC-20 tokens whose values can track the value of any asset, including fiat currencies, commodities, and even natural resources.  The first stablecoin that will be supported is the Celo Dollar, which tracks the value of the U.S. Dollar.  CELO serves as the collateral for Celo Dollar, which is redeemable for 1 US Dollar worth of CELO, ensuring that transactions can occur quickly, cheaply and reliably on-chain.")]),e._v(" "),a("p",[e._v("Celo's stability mechanism allows users to create a new Celo Dollar by sending 1 US Dollar worth of CELO to the reserve, or burn a Celo Dollar by redeeming it for 1 US Dollar worth of CELO.")]),e._v(" "),a("p",[e._v("This mechanism relies on a series of Oracles, or information feeds from exchanges external to the network, to report the CELO to US Dollar market rate. To minimize the risk of a run on CELO collateral when these reported values are inaccurate or out-of-date, Celo uses an on-chain constant-product-market-maker model, inspired by the "),a("a",{attrs:{href:"https://uniswap.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Uniswap"),a("OutboundLink")],1),e._v(" system. This mechanism adjusts the redemption price of CELO until either arbitrage occurs (so that the on-chain price dynamically adjusts until the offered rate meets the external rate) or Oracles reset the on-chain price.")]),e._v(" "),a("p",[e._v("The Celo protocol ensures that there is sufficient CELO collateral to redeem the amount of CELO in circulation through several sources. These include a "),a("RouterLink",{attrs:{to:"/docs/celo-codebase/protocol/stability/stability-fees.html"}},[e._v("stability fee")]),e._v(" levied on Celo Dollar balances, a transfer from "),a("RouterLink",{attrs:{to:"/docs/celo-codebase/protocol/proof-of-stake/community-fund.html#bolstering-the-reserve"}},[e._v("epoch rewards")]),e._v(", plus the proceeds from the spread when interacting with the on-chain market-maker mechanism.")],1),e._v(" "),a("p",[e._v('In addition, a back-up reserve of cryptocurrencies is held off-chain. This off-chain reserve is managed to preserve value and minimize volatility by maintaining a diversified portfolio of cryptocurrencies through algorithmic rebalancing trading and periodically "topping-up" the CELO collateral available to ensure it exceeds the amount required to redeem Celo Dollars in circulation. The approved cryptocurrencies, distribution ratios, and rebalancing period are all subject to on-chain governance.')]),e._v(" "),a("p",[e._v("This scheme relies on a series of Oracles, external to the network, reporting the value of the CELO to US Dollar market rate. To minimize depletion of the reserve when these reported values are inaccurate or out-of-date, Celo uses a constant-product-market-maker model, inspired by the "),a("a",{attrs:{href:"https://uniswap.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Uniswap"),a("OutboundLink")],1),e._v(" system. As arbitrage occurs, the on-chain price dynamically adjusts until the offered rate meets the external rate.")]),e._v(" "),a("p",[e._v("Celo maintains the size of its reserve through several sources, including a stability fee levied on Celo Dollar balances and a transfer from epoch rewards.")]),e._v(" "),a("p",[e._v('{% hint style="success" %}\n'),a("strong",[e._v("Roadmap")]),e._v(": Celo envisages a number of stable currencies pegged to different fiat currencies as well as natural resources such as forests.  In addition, once bridges between other chains and the Celo blockchain are fully developed, and liquid trading on decentralized exchanges occurs, the rebalancing can be handled transparently on-chain.\n{% endhint %}")]),e._v(" "),a("h3",{attrs:{id:"lightweight-identity"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lightweight-identity"}},[e._v("#")]),e._v(" Lightweight Identity")]),e._v(" "),a("p",[e._v("Celo offers a lightweight identity layer that allows users of applications including Celo Wallet to identify and securely transact with other users via their contacts' phone numbers. Celo Wallet enables payments directly to users listed in their device's contacts list.")]),e._v(" "),a("p",[e._v("The Attestations contract allows a user to request attestations to their phone number for a small fee. A secure decentralized source of randomness is used to pick a number of validators that will produce and send via SMS signed secret messages that act as attestations of ownership of the phone number. The user then submits these back to the Attestations contract which verifies them and installs a mapping for the phone number to the user's account.")]),e._v(" "),a("h3",{attrs:{id:"richer-transactions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#richer-transactions"}},[e._v("#")]),e._v(" Richer Transactions")]),e._v(" "),a("p",[e._v("Celo provides a number of enhancements to regular transactions as familiar to Ethereum developers.")]),e._v(" "),a("p",[e._v("The Celo native asset has a duality as both the native currency and is also an ERC-20 token, simplifying the work of application developers.")]),e._v(" "),a("p",[e._v('{% hint style="warning" %}\nCelo assets exist on an independent blockchain, and cannot be accessed through wallets that connect to the Ethereum network. Only use wallets designed to work with the Celo network.\n{% endhint %}')]),e._v(" "),a("p",[e._v("In Celo, transaction fees can be paid in stable cryptocurrencies. A user sending Celo Dollars will be able to pay their transaction fee out of their Celo Dollar balance, so they do not need to hold a separate balance of CELO in order to make transactions. The protocol maintains a list of currencies which can be used to pay for transaction fees. These smart contracts implement an extension of the ERC-20 interface, with additional functions that allow the protocol to debit and credit transaction fees.")]),e._v(" "),a("p",[e._v("The Escrow contract allows users to send payments to other users who can be identified by a phone number but don’t yet have an account. These payments are stored in this contract itself and can be either withdrawn by the intended recipient after creating an account and attesting their identity, or reclaimed by the sender.")]),e._v(" "),a("p",[e._v("Transfers between two accounts with associated identities support end-to-end encrypted comments. A comment encrypted to the identity's public key is passed when making the transfer, and included in an event that can be located on the blockchain ledger.")])])}),[],!1,null,null,null);t.default=n.exports}}]);