(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{380:function(e,t,o){"use strict";o.r(t);var a=o(42),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"locked-gold-and-voting"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#locked-gold-and-voting"}},[e._v("#")]),e._v(" Locked Gold and Voting")]),e._v(" "),o("p",[e._v("To participate in validator elections, users must first make a transfer of CELO to the "),o("code",[e._v("LockedGold")]),e._v(" smart contract.")]),e._v(" "),o("h2",{attrs:{id:"concurrent-use-of-locked-gold"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#concurrent-use-of-locked-gold"}},[e._v("#")]),e._v(" Concurrent Use of Locked Gold")]),e._v(" "),o("p",[e._v("Locking up CELO guarantees that the same asset is not used more than once in the same vote. However every unit of Locked CELO can be deployed in several ways at once. Using an amount for voting for a validator does not preclude that same amount also being used to vote for a governance proposal, or as a stake at the same time. Users do not need to choose whether to have to move funds from validator elections in order to vote on a governance proposal.")]),e._v(" "),o("h2",{attrs:{id:"unlocking-period"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#unlocking-period"}},[e._v("#")]),e._v(" Unlocking Period")]),e._v(" "),o("p",[e._v("Celo implements an "),o("strong",[e._v("unlocking period")]),e._v(", a delay of 3 days after making a request to unlock Locked Gold before it can be recovered from the escrow.")]),e._v(" "),o("p",[e._v("This value balances two concerns. First, it is long enough that an election will have taken place since the request to unlock, so that those units of CELO will no longer have any impact on which validators are managing the network. This deters an attacker from manipulations in the form of borrowing funds to purchase CELO, then using it to elect malicious validators, since they will not be able to return the borrowed funds until after the attack, when presumably it would have been detected and the borrowed fundsâ€™ value have fallen.")]),e._v(" "),o("p",[e._v("Second, the unlocking period is short enough that it does not represent a significant liquidity risk for most users. This limits the attractiveness to users of exchanges creating secondary markets in Locked CELO and thereby pooling voting power.")]),e._v(" "),o("h2",{attrs:{id:"locking-and-voting-flow"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#locking-and-voting-flow"}},[e._v("#")]),e._v(" Locking and Voting Flow")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://storage.googleapis.com/celo-website/docs/locked-gold-flow.jpg",alt:""}})]),e._v(" "),o("p",[e._v("The flow is as follows:")]),e._v(" "),o("ul",[o("li",[o("p",[e._v("An account calls "),o("code",[e._v("lock")]),e._v(", transferring an amount of CELO from their balance to the "),o("code",[e._v("LockedGold")]),e._v(" smart contract. This increments the account's 'non-voting' balance by the same amount.")])]),e._v(" "),o("li",[o("p",[e._v("Then the account calls "),o("code",[e._v("vote")]),e._v(", passing in an amount and the address of the group to vote for. This decrements the account's 'non-voting' balance and increments the 'pending' balance associated with that group by the same amount. This counts immediately towards electing validators. Note that the vote may be rejected if it would mean that the account would be voting for more than 3 distinct groups, or that the "),o("RouterLink",{attrs:{to:"/docs/celo-codebase/protocol/proof-of-stake/validator-elections.html#group-voting-caps"}},[e._v("voting cap")]),e._v(" for the group would be exceeded.")],1)]),e._v(" "),o("li",[o("p",[e._v("At the end of the current epoch, the protocol will first deliver "),o("RouterLink",{attrs:{to:"/docs/celo-codebase/protocol/proof-of-stake/epoch-rewards.html"}},[e._v("epoch rewards")]),e._v(" to validators, groups and voters based on the current epoch (pending votes do not count for these purposes), and then run an "),o("RouterLink",{attrs:{to:"/docs/celo-codebase/protocol/proof-of-stake/validator-elections.html"}},[e._v("election")]),e._v(" to select the active validator set for the following epoch.")],1)]),e._v(" "),o("li",[o("p",[e._v("The pending vote continues to contribute towards electing validators until it is changed, but the account must call "),o("code",[e._v("activate")]),e._v(" (in a subsequent epoch to the one in which the vote was made) to convert the pending vote to one that earns rewards.")])]),e._v(" "),o("li",[o("p",[e._v("At the end of that epoch, if the group for which the vote was made had elected one or more validators in the prior election, then the activated vote is eligible for "),o("RouterLink",{attrs:{to:"/docs/celo-codebase/protocol/proof-of-stake/locked-gold-rewards.html"}},[e._v("Locked Gold rewards")]),e._v(". These are applied to the pool of activated votes for the group. This means that activated voting Locked Gold automatically compounds, with the rewards increasing the account's votes for the same group, thereby increasing future rewards, benefitting participants who have elected to continuously participate in governance.")],1)]),e._v(" "),o("li",[o("p",[e._v("The account may subsequently choose to "),o("code",[e._v("unvote")]),e._v(" a specific amount of voting Locked Gold from a group, up to the total balance that the account has accrued there. Due to rewards, this Locked Gold amount may be higher than the original value passed to "),o("code",[e._v("vote")]),e._v(".")])]),e._v(" "),o("li",[o("p",[e._v("This Locked Gold immediately becomes non-voting, receives no further Epoch Rewards, and can be re-used to vote for a different group.")])]),e._v(" "),o("li",[o("p",[e._v("The account may choose to "),o("code",[e._v("unlock")]),e._v(" an amount of Locked Gold at any time, provided that it is inactive: this means it is non-voting in Validator Elections, the "),o("code",[e._v("deregistrationPeriod")]),e._v(" has elapsed if the amount has been used as a validator or validator group stake, and not active in any "),o("RouterLink",{attrs:{to:"/docs/celo-codebase/protocol/governance.html"}},[e._v("Governance proposals")]),e._v(". Once an unlocking period of 3 days has passed, the account can call "),o("code",[e._v("withdraw")]),e._v(" to have the "),o("code",[e._v("LockedGold")]),e._v(" contract transfer them that amount.")],1)])]),e._v(" "),o("p",[e._v("Votes persist between epochs, and the same vote is applied to each election unless and until it is changed. Vote withdrawal, vote changes, and additional CELO being used to vote have no effect on the validator set until the election finalizes at the end of the epoch.")])])}),[],!1,null,null,null);t.default=n.exports}}]);