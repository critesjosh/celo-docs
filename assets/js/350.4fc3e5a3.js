(window.webpackJsonp=window.webpackJsonp||[]).push([[350],{697:function(e,t,a){"use strict";a.r(t);var o=a(42),n=Object(o.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"hello-mobile-dapp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hello-mobile-dapp"}},[e._v("#")]),e._v(" Hello Mobile Dapp")]),e._v(" "),a("p",[e._v("This tutorial includes a walk through of a truffle box to get you started with developing React Native dapps on Celo. We will touch on several key concepts in Celo dapp development including:")]),e._v(" "),a("ul",[a("li",[e._v("Creating accounts (private keys)")]),e._v(" "),a("li",[e._v("Basic smart contract development in Solidity")]),e._v(" "),a("li",[e._v("Sending transactions to a Celo network")]),e._v(" "),a("li",[e._v("View transactions with a block explorer")]),e._v(" "),a("li",[e._v("Mobile development using React Native and Expo")])]),e._v(" "),a("p",[a("strong",[e._v("Mandatory:")]),e._v(" Make sure that you have the "),a("a",{attrs:{href:"https://yarnpkg.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Yarn package manager"),a("OutboundLink")],1),e._v(", "),a("a",{attrs:{href:"https://www.trufflesuite.com/truffle",target:"_blank",rel:"noopener noreferrer"}},[e._v("Truffle"),a("OutboundLink")],1),e._v(" installed and "),a("strong",[e._v("are using Node.js version 10.x")]),e._v(", then "),a("code",[e._v("$ truffle unbox critesjosh/celo-dappkit")]),e._v(" in your new project directory. This will download the code from "),a("a",{attrs:{href:"https://github.com/critesjosh/celo-dappkit",target:"_blank",rel:"noopener noreferrer"}},[e._v("this GitHub repo"),a("OutboundLink")],1),e._v(" to get you started.")]),e._v(" "),a("p",[e._v("Use this "),a("a",{attrs:{href:"https://www.trufflesuite.com/boxes",target:"_blank",rel:"noopener noreferrer"}},[e._v("Truffle Box"),a("OutboundLink")],1),e._v(" to get started building a mobile dapp using Celo and React Native in Javascript. We will build a simple React Native application that we can use to read and update a contract on the Alfajores test network.")]),e._v(" "),a("p",[e._v("Once you download the box, run "),a("code",[e._v("$ yarn")]),e._v(" to install the necessary smart contract development dependencies. Navigate to the client directory and run "),a("code",[e._v("$ yarn")]),e._v(" again to install the client application dependencies.")]),e._v(" "),a("p",[e._v("This Truffle box uses React Native and Expo for developing a mobile first Celo blockchain experience. You will also need Expo installed globally on your machine. Install it with:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ npm install expo-cli --global\n")])])]),a("h2",{attrs:{id:"smart-contract-development"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#smart-contract-development"}},[e._v("#")]),e._v(" Smart contract development")]),e._v(" "),a("p",[e._v("The project comes with a Hello World example contract in the root contracts directory. The box is also configured to deploy Solidity smart contracts to the Alfajores test network, but you will need test network funds to pay for the deployment costs.")]),e._v(" "),a("p",[e._v("Run")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ npm run account\n")])])]),a("p",[e._v("to create a new account for development. The new account address will be printed in the console. This script will generate a private key for you and store it in "),a("code",[e._v("/.secret")]),e._v(". If you need to print the account info again, run "),a("code",[e._v("$ npm run account")]),e._v(" again, it will not create a new account, it will read the saved private key and print the corresponding account address.")]),e._v(" "),a("p",[e._v("Truffle will read this private key for contract deployments.")]),e._v(" "),a("p",[e._v("Copy your account address and paste it in to the "),a("a",{attrs:{href:"https://celo.org/developers/faucet",target:"_blank",rel:"noopener noreferrer"}},[e._v("Alfajores faucet"),a("OutboundLink")],1),e._v(" to fund your account.")]),e._v(" "),a("p",[e._v("You can migrate the "),a("code",[e._v("HelloWorld.sol")]),e._v(" contract to the alfajores test network with")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ truffle migrate --network alfajores\n")])])]),a("p",[e._v("To run a local development Celo blockchain, use the Celo fork of "),a("code",[e._v("ganache-cli")]),e._v(". You can find the package details and install instructions "),a("a",{attrs:{href:"https://www.npmjs.com/package/@celo/ganache-cli",target:"_blank",rel:"noopener noreferrer"}},[e._v("here."),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("You should deploy the "),a("code",[e._v("HelloWorld.sol")]),e._v(" contract to work through the exercise. You can deploy it using the remote node specified in "),a("code",[e._v("truffle-config.js")]),e._v(". You may get an error about connecting to a running RPC client. If you run into the error, trying running "),a("code",[e._v("truffle migrate --network alfajores")]),e._v(" again. A successful deployment should print something like the following:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Joshs-MacBook-Pro-2:untitled folder joshcrites$ truffle migrate --network alfajores\n\nCompiling your contracts...\n===========================\n> Everything is up to date, there is nothing to compile.\n\n\nStarting migrations...\n======================\n> Network name:    'alfajores'\n> Network id:      44787\n> Block gas limit: 0x1312d00\n\n\n1_initial_migration.js\n======================\n\n   Deploying 'Migrations'\n   ----------------------\n   > transaction hash:    0x8a7d5f323ef9e356407566ded4d191e3b68b0ba579c5a7b920e5dea3936bb101\n   > Blocks: 0            Seconds: 4\n   > contract address:    0x6363f95B5dDe5bbb1A73dbdc752036e105769207\n   > block number:        587188\n   > block timestamp:     1583779418\n   > account:             0x0ac6eDb733EAB57f8fa6c0F8678de0b9ef950bc6\n   > balance:             4.98552399999999992\n   > gas used:            188419\n   > gas price:           20 gwei\n   > value sent:          0 ETH\n   > total cost:          0.00376838 ETH\n\n\n   > Saving migration to chain.\n   > Saving artifacts\n   -------------------------------------\n   > Total cost:          0.00376838 ETH\n\n\n2_deploy_contracts.js\n=====================\n\n   Deploying 'HelloWorld'\n   ----------------------\n   > transaction hash:    0xb48d8f2da01f49b6ebe3dd2391b289c735afd2ec1b57902a5bd3958c4b5773b3\n   > Blocks: 1            Seconds: 4\n   > contract address:    0xD9BBC1c3C76bd285C33de5Df4b987369EC66DC56\n   > block number:        587190\n   > block timestamp:     1583779428\n   > account:             0x0ac6eDb733EAB57f8fa6c0F8678de0b9ef950bc6\n   > balance:             4.979126059999999888\n   > gas used:            277896\n   > gas price:           20 gwei\n   > value sent:          0 ETH\n   > total cost:          0.00555792 ETH\n\n\n   > Saving migration to chain.\n   > Saving artifacts\n   -------------------------------------\n   > Total cost:          0.00555792 ETH\n\n\nSummary\n=======\n> Total deployments:   2\n> Final cost:          0.0093263 ETH\n")])])]),a("p",[e._v("Since we are developing this on the public Alfajores test network, we can view all the accounts, contracts and transactions on the "),a("a",{attrs:{href:"https://alfajores-blockscout.celo-testnet.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("public block explorer"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("You can look up the contract deployment transaction on the Alfajores block explorer via the transaction hash, "),a("a",{attrs:{href:"https://alfajores-blockscout.celo-testnet.org/tx/0xb48d8f2da01f49b6ebe3dd2391b289c735afd2ec1b57902a5bd3958c4b5773b3",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://alfajores-blockscout.celo-testnet.org/tx/0xb48d8f2da01f49b6ebe3dd2391b289c735afd2ec1b57902a5bd3958c4b5773b3"),a("OutboundLink")],1),e._v(" in this case.")]),e._v(" "),a("p",[e._v("Truffle will save the deployment information to the Truffle artifact located at "),a("code",[e._v("client/contracts/HelloWorld.json")]),e._v(". You will use this deployment information to connect your React Native application to the correct contract.")]),e._v(" "),a("h2",{attrs:{id:"developing-the-mobile-application"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#developing-the-mobile-application"}},[e._v("#")]),e._v(" Developing the mobile application")]),e._v(" "),a("p",[e._v("Keep in mind that you will need a version of the Celo Wallet installed on the mobile device with which you are developing the application. The Celo Wallet is the private key management software used to sign transactions for the user.")]),e._v(" "),a("p",[e._v("You can build a the latest version of the Celo Wallet and find instructions on running a development build "),a("a",{attrs:{href:"https://github.com/celo-org/celo-monorepo/tree/master/packages/mobile",target:"_blank",rel:"noopener noreferrer"}},[e._v("here."),a("OutboundLink")],1),e._v(" Once you have a device with the Celo wallet installed, you can start working on your application.")]),e._v(" "),a("p",[e._v("For the purposes of introduction, we have added some code to you get you started located in App.js in the "),a("code",[e._v("client")]),e._v(" directory.")]),e._v(" "),a("h3",{attrs:{id:"application-development-with-expo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#application-development-with-expo"}},[e._v("#")]),e._v(" Application development with Expo")]),e._v(" "),a("p",[e._v("In this project, the React Native application lives in the "),a("code",[e._v("client")]),e._v(" directory. "),a("code",[e._v("cd")]),e._v(" into the client directory and run "),a("code",[e._v("$ yarn")]),e._v(" to install the dependencies.")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://expo.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Expo"),a("OutboundLink")],1),e._v(" is a tool that makes developing React Native applications much easier. We will be using Expo for easy setup.")]),e._v(" "),a("p",[e._v("Install it with:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ npm install expo-cli --global\n")])])]),a("p",[e._v("You can start the application with")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ expo start\n")])])]),a("p",[e._v("You can use your physical mobile device or an emulator to develop apps with Expo. If you want to use your physical device, you will have to "),a("a",{attrs:{href:"https://expo.io/learn",target:"_blank",rel:"noopener noreferrer"}},[e._v("install the Expo app on your device."),a("OutboundLink")],1)]),e._v(" "),a("h3",{attrs:{id:"using-an-emulator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-an-emulator"}},[e._v("#")]),e._v(" Using an emulator")]),e._v(" "),a("p",[e._v("You can find more information about running and Android emulator "),a("a",{attrs:{href:"https://developer.android.com/studio/run/emulator-commandline",target:"_blank",rel:"noopener noreferrer"}},[e._v("here."),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"celo-dapp-examples"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#celo-dapp-examples"}},[e._v("#")]),e._v(" Celo Dapp Examples")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/celo-org/savings-circle-demo",target:"_blank",rel:"noopener noreferrer"}},[e._v("Celo Savings Circle"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"wrapping-up"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wrapping-up"}},[e._v("#")]),e._v(" Wrapping up")]),e._v(" "),a("p",[e._v("You should now have the necessary skills to get started with developing mobile applications on Celo. In this tutorial we covered:")]),e._v(" "),a("ul",[a("li",[e._v("Creating accounts (private keys)")]),e._v(" "),a("li",[e._v("Basic smart contract development in Solidity")]),e._v(" "),a("li",[e._v("Sending transactions to a Celo network")]),e._v(" "),a("li",[e._v("View transactions with a block explorer")]),e._v(" "),a("li",[e._v("Mobile development using React Native and Expo")])]),e._v(" "),a("p",[e._v("This is not a comprehensive tutorial for Celo's features and capabilities, keep exploring the docs to learn more and please "),a("a",{attrs:{href:"https://discord.gg/745Qntv",target:"_blank",rel:"noopener noreferrer"}},[e._v("connect with us on Discord"),a("OutboundLink")],1),e._v(" if you need any help (or just want to chat)!")])])}),[],!1,null,null,null);t.default=n.exports}}]);