<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Running a Validator in Mainnet | Vuepress Docs Boilerplate</title>
    <meta name="generator" content="VuePress 1.6.0">
    
    <meta name="description" content="Celo documentation">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="preload" href="/celo-docs/assets/css/0.styles.1ec6f8d8.css" as="style"><link rel="preload" href="/celo-docs/assets/js/app.22fe05f4.js" as="script"><link rel="preload" href="/celo-docs/assets/js/2.ae9bff2d.js" as="script"><link rel="preload" href="/celo-docs/assets/js/364.cf35ea7a.js" as="script"><link rel="prefetch" href="/celo-docs/assets/js/10.17deb8f3.js"><link rel="prefetch" href="/celo-docs/assets/js/100.8168c56e.js"><link rel="prefetch" href="/celo-docs/assets/js/101.d02f30a4.js"><link rel="prefetch" href="/celo-docs/assets/js/102.67dcb21c.js"><link rel="prefetch" href="/celo-docs/assets/js/103.8bd48f00.js"><link rel="prefetch" href="/celo-docs/assets/js/104.744620a5.js"><link rel="prefetch" href="/celo-docs/assets/js/105.e5db2900.js"><link rel="prefetch" href="/celo-docs/assets/js/106.261468d8.js"><link rel="prefetch" href="/celo-docs/assets/js/107.40475a7b.js"><link rel="prefetch" href="/celo-docs/assets/js/108.734242e8.js"><link rel="prefetch" href="/celo-docs/assets/js/109.800aa889.js"><link rel="prefetch" href="/celo-docs/assets/js/11.a5f2e188.js"><link rel="prefetch" href="/celo-docs/assets/js/110.2e0a86ed.js"><link rel="prefetch" href="/celo-docs/assets/js/111.a6c8ba83.js"><link rel="prefetch" href="/celo-docs/assets/js/112.0ff4a6eb.js"><link rel="prefetch" href="/celo-docs/assets/js/113.aacda8c0.js"><link rel="prefetch" href="/celo-docs/assets/js/114.8e0e62e6.js"><link rel="prefetch" href="/celo-docs/assets/js/115.b72d8264.js"><link rel="prefetch" href="/celo-docs/assets/js/116.ce8f0d59.js"><link rel="prefetch" href="/celo-docs/assets/js/117.2d47df72.js"><link rel="prefetch" href="/celo-docs/assets/js/118.9c2a7535.js"><link rel="prefetch" href="/celo-docs/assets/js/119.b66ab07b.js"><link rel="prefetch" href="/celo-docs/assets/js/12.b616c290.js"><link rel="prefetch" href="/celo-docs/assets/js/120.aed755fa.js"><link rel="prefetch" href="/celo-docs/assets/js/121.acf79a0c.js"><link rel="prefetch" href="/celo-docs/assets/js/122.ade4ff54.js"><link rel="prefetch" href="/celo-docs/assets/js/123.ce0af962.js"><link rel="prefetch" href="/celo-docs/assets/js/124.40d0da87.js"><link rel="prefetch" href="/celo-docs/assets/js/125.8be0c49c.js"><link rel="prefetch" href="/celo-docs/assets/js/126.67c358e0.js"><link rel="prefetch" href="/celo-docs/assets/js/127.f4a3e337.js"><link rel="prefetch" href="/celo-docs/assets/js/128.d290cdf7.js"><link rel="prefetch" href="/celo-docs/assets/js/129.07a18e5c.js"><link rel="prefetch" href="/celo-docs/assets/js/13.33ba35f4.js"><link rel="prefetch" href="/celo-docs/assets/js/130.f6f801e2.js"><link rel="prefetch" href="/celo-docs/assets/js/131.75ff6d3b.js"><link rel="prefetch" href="/celo-docs/assets/js/132.baf550bd.js"><link rel="prefetch" href="/celo-docs/assets/js/133.d71e3250.js"><link rel="prefetch" href="/celo-docs/assets/js/134.147bc0da.js"><link rel="prefetch" href="/celo-docs/assets/js/135.d58f8449.js"><link rel="prefetch" href="/celo-docs/assets/js/136.4c02beca.js"><link rel="prefetch" href="/celo-docs/assets/js/137.aa51c202.js"><link rel="prefetch" href="/celo-docs/assets/js/138.cb18687e.js"><link rel="prefetch" href="/celo-docs/assets/js/139.dc13e560.js"><link rel="prefetch" href="/celo-docs/assets/js/14.484704d2.js"><link rel="prefetch" href="/celo-docs/assets/js/140.31296d4a.js"><link rel="prefetch" href="/celo-docs/assets/js/141.d6254013.js"><link rel="prefetch" href="/celo-docs/assets/js/142.85db7618.js"><link rel="prefetch" href="/celo-docs/assets/js/143.8dc2b4ab.js"><link rel="prefetch" href="/celo-docs/assets/js/144.fd54ba13.js"><link rel="prefetch" href="/celo-docs/assets/js/145.5b2afa6f.js"><link rel="prefetch" href="/celo-docs/assets/js/146.01ace34b.js"><link rel="prefetch" href="/celo-docs/assets/js/147.01e37b65.js"><link rel="prefetch" href="/celo-docs/assets/js/148.7a470b15.js"><link rel="prefetch" href="/celo-docs/assets/js/149.f693a66a.js"><link rel="prefetch" href="/celo-docs/assets/js/15.c4041419.js"><link rel="prefetch" href="/celo-docs/assets/js/150.28ce8352.js"><link rel="prefetch" href="/celo-docs/assets/js/151.c2a62f44.js"><link rel="prefetch" href="/celo-docs/assets/js/152.52cd33b1.js"><link rel="prefetch" href="/celo-docs/assets/js/153.97c9fe6b.js"><link rel="prefetch" href="/celo-docs/assets/js/154.e7d41039.js"><link rel="prefetch" href="/celo-docs/assets/js/155.7a4e3a1d.js"><link rel="prefetch" href="/celo-docs/assets/js/156.f0a5f53c.js"><link rel="prefetch" href="/celo-docs/assets/js/157.a5f6b0a5.js"><link rel="prefetch" href="/celo-docs/assets/js/158.a97ac0f3.js"><link rel="prefetch" href="/celo-docs/assets/js/159.95a7f4d4.js"><link rel="prefetch" href="/celo-docs/assets/js/16.b0fbc835.js"><link rel="prefetch" href="/celo-docs/assets/js/160.52bbaea8.js"><link rel="prefetch" href="/celo-docs/assets/js/161.c8730d93.js"><link rel="prefetch" href="/celo-docs/assets/js/162.00df245f.js"><link rel="prefetch" href="/celo-docs/assets/js/163.198eea90.js"><link rel="prefetch" href="/celo-docs/assets/js/164.eff702d3.js"><link rel="prefetch" href="/celo-docs/assets/js/165.78f91b5f.js"><link rel="prefetch" href="/celo-docs/assets/js/166.b4e11a3b.js"><link rel="prefetch" href="/celo-docs/assets/js/167.8e57f058.js"><link rel="prefetch" href="/celo-docs/assets/js/168.85b940d9.js"><link rel="prefetch" href="/celo-docs/assets/js/169.950516ee.js"><link rel="prefetch" href="/celo-docs/assets/js/17.1d48207b.js"><link rel="prefetch" href="/celo-docs/assets/js/170.a78d778f.js"><link rel="prefetch" href="/celo-docs/assets/js/171.2745ed30.js"><link rel="prefetch" href="/celo-docs/assets/js/172.e3645288.js"><link rel="prefetch" href="/celo-docs/assets/js/173.d0f9d91f.js"><link rel="prefetch" href="/celo-docs/assets/js/174.12d6f0dc.js"><link rel="prefetch" href="/celo-docs/assets/js/175.320df692.js"><link rel="prefetch" href="/celo-docs/assets/js/176.c6f01d83.js"><link rel="prefetch" href="/celo-docs/assets/js/177.4486fea0.js"><link rel="prefetch" href="/celo-docs/assets/js/178.f7030d52.js"><link rel="prefetch" href="/celo-docs/assets/js/179.5bcd0c63.js"><link rel="prefetch" href="/celo-docs/assets/js/18.897ee03c.js"><link rel="prefetch" href="/celo-docs/assets/js/180.e39c3eb5.js"><link rel="prefetch" href="/celo-docs/assets/js/181.3f16f4e4.js"><link rel="prefetch" href="/celo-docs/assets/js/182.4a2c3427.js"><link rel="prefetch" href="/celo-docs/assets/js/183.d505a138.js"><link rel="prefetch" href="/celo-docs/assets/js/184.ce87083d.js"><link rel="prefetch" href="/celo-docs/assets/js/185.eba81bb8.js"><link rel="prefetch" href="/celo-docs/assets/js/186.28edf5b0.js"><link rel="prefetch" href="/celo-docs/assets/js/187.01be0091.js"><link rel="prefetch" href="/celo-docs/assets/js/188.ffa3e174.js"><link rel="prefetch" href="/celo-docs/assets/js/189.659be381.js"><link rel="prefetch" href="/celo-docs/assets/js/19.691e312d.js"><link rel="prefetch" href="/celo-docs/assets/js/190.fe014f7b.js"><link rel="prefetch" href="/celo-docs/assets/js/191.2a49e114.js"><link rel="prefetch" href="/celo-docs/assets/js/192.9d7c0c41.js"><link rel="prefetch" href="/celo-docs/assets/js/193.336556cb.js"><link rel="prefetch" href="/celo-docs/assets/js/194.2a740f55.js"><link rel="prefetch" href="/celo-docs/assets/js/195.1e4608a4.js"><link rel="prefetch" href="/celo-docs/assets/js/196.ef835605.js"><link rel="prefetch" href="/celo-docs/assets/js/197.20d095f2.js"><link rel="prefetch" href="/celo-docs/assets/js/198.d27e82bd.js"><link rel="prefetch" href="/celo-docs/assets/js/199.52ae9e99.js"><link rel="prefetch" href="/celo-docs/assets/js/20.95109efb.js"><link rel="prefetch" href="/celo-docs/assets/js/200.84eebfd1.js"><link rel="prefetch" href="/celo-docs/assets/js/201.71598f69.js"><link rel="prefetch" href="/celo-docs/assets/js/202.3c323774.js"><link rel="prefetch" href="/celo-docs/assets/js/203.07a352e1.js"><link rel="prefetch" href="/celo-docs/assets/js/204.7e6190d8.js"><link rel="prefetch" href="/celo-docs/assets/js/205.2977f3e6.js"><link rel="prefetch" href="/celo-docs/assets/js/206.d9b7d13f.js"><link rel="prefetch" href="/celo-docs/assets/js/207.12ee3ea4.js"><link rel="prefetch" href="/celo-docs/assets/js/208.d069fe5f.js"><link rel="prefetch" href="/celo-docs/assets/js/209.b06db4c5.js"><link rel="prefetch" href="/celo-docs/assets/js/21.1278cf63.js"><link rel="prefetch" href="/celo-docs/assets/js/210.7c0a7f73.js"><link rel="prefetch" href="/celo-docs/assets/js/211.8bd96fbb.js"><link rel="prefetch" href="/celo-docs/assets/js/212.dd115f3d.js"><link rel="prefetch" href="/celo-docs/assets/js/213.bde67610.js"><link rel="prefetch" href="/celo-docs/assets/js/214.5648cce5.js"><link rel="prefetch" href="/celo-docs/assets/js/215.add3f3ce.js"><link rel="prefetch" href="/celo-docs/assets/js/216.d9a00964.js"><link rel="prefetch" href="/celo-docs/assets/js/217.047273c3.js"><link rel="prefetch" href="/celo-docs/assets/js/218.5d6d8e08.js"><link rel="prefetch" href="/celo-docs/assets/js/219.018e74f8.js"><link rel="prefetch" href="/celo-docs/assets/js/22.584b700e.js"><link rel="prefetch" href="/celo-docs/assets/js/220.a046c2f3.js"><link rel="prefetch" href="/celo-docs/assets/js/221.5ad81a3d.js"><link rel="prefetch" href="/celo-docs/assets/js/222.9a422880.js"><link rel="prefetch" href="/celo-docs/assets/js/223.2686af17.js"><link rel="prefetch" href="/celo-docs/assets/js/224.6ea404c4.js"><link rel="prefetch" href="/celo-docs/assets/js/225.83c6e420.js"><link rel="prefetch" href="/celo-docs/assets/js/226.2e38c58e.js"><link rel="prefetch" href="/celo-docs/assets/js/227.80b93e34.js"><link rel="prefetch" href="/celo-docs/assets/js/228.a519681c.js"><link rel="prefetch" href="/celo-docs/assets/js/229.f3f3b82e.js"><link rel="prefetch" href="/celo-docs/assets/js/23.d6a186e5.js"><link rel="prefetch" href="/celo-docs/assets/js/230.f5abcfe7.js"><link rel="prefetch" href="/celo-docs/assets/js/231.84abfd72.js"><link rel="prefetch" href="/celo-docs/assets/js/232.ad7c370c.js"><link rel="prefetch" href="/celo-docs/assets/js/233.059548b5.js"><link rel="prefetch" href="/celo-docs/assets/js/234.bf973bcb.js"><link rel="prefetch" href="/celo-docs/assets/js/235.ff2d822e.js"><link rel="prefetch" href="/celo-docs/assets/js/236.509b2504.js"><link rel="prefetch" href="/celo-docs/assets/js/237.c51376fb.js"><link rel="prefetch" href="/celo-docs/assets/js/238.1dc37289.js"><link rel="prefetch" href="/celo-docs/assets/js/239.d9ad3ba9.js"><link rel="prefetch" href="/celo-docs/assets/js/24.c35a61d6.js"><link rel="prefetch" href="/celo-docs/assets/js/240.4d46f3e1.js"><link rel="prefetch" href="/celo-docs/assets/js/241.b889ca9e.js"><link rel="prefetch" href="/celo-docs/assets/js/242.f6e45c6e.js"><link rel="prefetch" href="/celo-docs/assets/js/243.0208889b.js"><link rel="prefetch" href="/celo-docs/assets/js/244.77da7337.js"><link rel="prefetch" href="/celo-docs/assets/js/245.cb2d9d7b.js"><link rel="prefetch" href="/celo-docs/assets/js/246.4d522460.js"><link rel="prefetch" href="/celo-docs/assets/js/247.553b69d4.js"><link rel="prefetch" href="/celo-docs/assets/js/248.f723b6a7.js"><link rel="prefetch" href="/celo-docs/assets/js/249.51d1dfac.js"><link rel="prefetch" href="/celo-docs/assets/js/25.4352cd39.js"><link rel="prefetch" href="/celo-docs/assets/js/250.06d8c142.js"><link rel="prefetch" href="/celo-docs/assets/js/251.09ffbad0.js"><link rel="prefetch" href="/celo-docs/assets/js/252.15edfc09.js"><link rel="prefetch" href="/celo-docs/assets/js/253.5ac6fbbf.js"><link rel="prefetch" href="/celo-docs/assets/js/254.941ac649.js"><link rel="prefetch" href="/celo-docs/assets/js/255.b3cecabc.js"><link rel="prefetch" href="/celo-docs/assets/js/256.a13661ec.js"><link rel="prefetch" href="/celo-docs/assets/js/257.cf979a4a.js"><link rel="prefetch" href="/celo-docs/assets/js/258.beaf3f7d.js"><link rel="prefetch" href="/celo-docs/assets/js/259.1b196b5a.js"><link rel="prefetch" href="/celo-docs/assets/js/26.0bf40106.js"><link rel="prefetch" href="/celo-docs/assets/js/260.9bba9b9e.js"><link rel="prefetch" href="/celo-docs/assets/js/261.43cbd9d5.js"><link rel="prefetch" href="/celo-docs/assets/js/262.4c83f816.js"><link rel="prefetch" href="/celo-docs/assets/js/263.22a5fd0c.js"><link rel="prefetch" href="/celo-docs/assets/js/264.22075cef.js"><link rel="prefetch" href="/celo-docs/assets/js/265.5e89bc04.js"><link rel="prefetch" href="/celo-docs/assets/js/266.4da3ee59.js"><link rel="prefetch" href="/celo-docs/assets/js/267.2acdd263.js"><link rel="prefetch" href="/celo-docs/assets/js/268.8184e235.js"><link rel="prefetch" href="/celo-docs/assets/js/269.ccfa39db.js"><link rel="prefetch" href="/celo-docs/assets/js/27.513ea6c7.js"><link rel="prefetch" href="/celo-docs/assets/js/270.c6be0127.js"><link rel="prefetch" href="/celo-docs/assets/js/271.221c2906.js"><link rel="prefetch" href="/celo-docs/assets/js/272.608b21d8.js"><link rel="prefetch" href="/celo-docs/assets/js/273.1dad9c39.js"><link rel="prefetch" href="/celo-docs/assets/js/274.12cc5285.js"><link rel="prefetch" href="/celo-docs/assets/js/275.f4efdb61.js"><link rel="prefetch" href="/celo-docs/assets/js/276.2fa0e280.js"><link rel="prefetch" href="/celo-docs/assets/js/277.ff8312e3.js"><link rel="prefetch" href="/celo-docs/assets/js/278.2d374f32.js"><link rel="prefetch" href="/celo-docs/assets/js/279.83739653.js"><link rel="prefetch" href="/celo-docs/assets/js/28.7795577c.js"><link rel="prefetch" href="/celo-docs/assets/js/280.062720ff.js"><link rel="prefetch" href="/celo-docs/assets/js/281.42bbd015.js"><link rel="prefetch" href="/celo-docs/assets/js/282.4a3aa175.js"><link rel="prefetch" href="/celo-docs/assets/js/283.c309d0b0.js"><link rel="prefetch" href="/celo-docs/assets/js/284.bbe12f9a.js"><link rel="prefetch" href="/celo-docs/assets/js/285.755396a3.js"><link rel="prefetch" href="/celo-docs/assets/js/286.1b57fd1d.js"><link rel="prefetch" href="/celo-docs/assets/js/287.f07fab73.js"><link rel="prefetch" href="/celo-docs/assets/js/288.a8207b97.js"><link rel="prefetch" href="/celo-docs/assets/js/289.8ecb2fdc.js"><link rel="prefetch" href="/celo-docs/assets/js/29.47bdd279.js"><link rel="prefetch" href="/celo-docs/assets/js/290.4932092c.js"><link rel="prefetch" href="/celo-docs/assets/js/291.60128e29.js"><link rel="prefetch" href="/celo-docs/assets/js/292.29c9ec82.js"><link rel="prefetch" href="/celo-docs/assets/js/293.0ad9028b.js"><link rel="prefetch" href="/celo-docs/assets/js/294.7f3f9db9.js"><link rel="prefetch" href="/celo-docs/assets/js/295.45e52730.js"><link rel="prefetch" href="/celo-docs/assets/js/296.103fb1ac.js"><link rel="prefetch" href="/celo-docs/assets/js/297.a204d25b.js"><link rel="prefetch" href="/celo-docs/assets/js/298.ab2191aa.js"><link rel="prefetch" href="/celo-docs/assets/js/299.74252b3c.js"><link rel="prefetch" href="/celo-docs/assets/js/3.c2c79962.js"><link rel="prefetch" href="/celo-docs/assets/js/30.9cf9387c.js"><link rel="prefetch" href="/celo-docs/assets/js/300.dcbb384e.js"><link rel="prefetch" href="/celo-docs/assets/js/301.64e9a6ef.js"><link rel="prefetch" href="/celo-docs/assets/js/302.c5491478.js"><link rel="prefetch" href="/celo-docs/assets/js/303.5d0dace1.js"><link rel="prefetch" href="/celo-docs/assets/js/304.72014e3f.js"><link rel="prefetch" href="/celo-docs/assets/js/305.2a01e57f.js"><link rel="prefetch" href="/celo-docs/assets/js/306.7a11b6c0.js"><link rel="prefetch" href="/celo-docs/assets/js/307.8e7754a8.js"><link rel="prefetch" href="/celo-docs/assets/js/308.a452f5e4.js"><link rel="prefetch" href="/celo-docs/assets/js/309.5a345ddd.js"><link rel="prefetch" href="/celo-docs/assets/js/31.7ad14156.js"><link rel="prefetch" href="/celo-docs/assets/js/310.f9bac003.js"><link rel="prefetch" href="/celo-docs/assets/js/311.47bfe42e.js"><link rel="prefetch" href="/celo-docs/assets/js/312.f06721b3.js"><link rel="prefetch" href="/celo-docs/assets/js/313.ce715937.js"><link rel="prefetch" href="/celo-docs/assets/js/314.24018fcc.js"><link rel="prefetch" href="/celo-docs/assets/js/315.2eb4a210.js"><link rel="prefetch" href="/celo-docs/assets/js/316.404d6376.js"><link rel="prefetch" href="/celo-docs/assets/js/317.27807297.js"><link rel="prefetch" href="/celo-docs/assets/js/318.ebd57d77.js"><link rel="prefetch" href="/celo-docs/assets/js/319.0c88b0fc.js"><link rel="prefetch" href="/celo-docs/assets/js/32.f0819142.js"><link rel="prefetch" href="/celo-docs/assets/js/320.9ba09fbe.js"><link rel="prefetch" href="/celo-docs/assets/js/321.c59d5417.js"><link rel="prefetch" href="/celo-docs/assets/js/322.f715a09b.js"><link rel="prefetch" href="/celo-docs/assets/js/323.88d78740.js"><link rel="prefetch" href="/celo-docs/assets/js/324.57d41f94.js"><link rel="prefetch" href="/celo-docs/assets/js/325.d9b962e4.js"><link rel="prefetch" href="/celo-docs/assets/js/326.08349a34.js"><link rel="prefetch" href="/celo-docs/assets/js/327.fd7d9a98.js"><link rel="prefetch" href="/celo-docs/assets/js/328.916d4fe3.js"><link rel="prefetch" href="/celo-docs/assets/js/329.8d150690.js"><link rel="prefetch" href="/celo-docs/assets/js/33.3ddc2b28.js"><link rel="prefetch" href="/celo-docs/assets/js/330.6915a30c.js"><link rel="prefetch" href="/celo-docs/assets/js/331.d17c3710.js"><link rel="prefetch" href="/celo-docs/assets/js/332.08ecf223.js"><link rel="prefetch" href="/celo-docs/assets/js/333.97fbf9f7.js"><link rel="prefetch" href="/celo-docs/assets/js/334.8c46befa.js"><link rel="prefetch" href="/celo-docs/assets/js/335.d14c7a69.js"><link rel="prefetch" href="/celo-docs/assets/js/336.747af20c.js"><link rel="prefetch" href="/celo-docs/assets/js/337.ec254f9a.js"><link rel="prefetch" href="/celo-docs/assets/js/338.559ce78a.js"><link rel="prefetch" href="/celo-docs/assets/js/339.ee62ba49.js"><link rel="prefetch" href="/celo-docs/assets/js/34.8cfc9a80.js"><link rel="prefetch" href="/celo-docs/assets/js/340.5854e2f9.js"><link rel="prefetch" href="/celo-docs/assets/js/341.d4d27ab5.js"><link rel="prefetch" href="/celo-docs/assets/js/342.58fda3c1.js"><link rel="prefetch" href="/celo-docs/assets/js/343.04f03dce.js"><link rel="prefetch" href="/celo-docs/assets/js/344.f8cbc0f3.js"><link rel="prefetch" href="/celo-docs/assets/js/345.045535ab.js"><link rel="prefetch" href="/celo-docs/assets/js/346.38b65bcd.js"><link rel="prefetch" href="/celo-docs/assets/js/347.3a1550ea.js"><link rel="prefetch" href="/celo-docs/assets/js/348.71bb643f.js"><link rel="prefetch" href="/celo-docs/assets/js/349.6567d00e.js"><link rel="prefetch" href="/celo-docs/assets/js/35.0a81712a.js"><link rel="prefetch" href="/celo-docs/assets/js/350.4fc3e5a3.js"><link rel="prefetch" href="/celo-docs/assets/js/351.9e48eb99.js"><link rel="prefetch" href="/celo-docs/assets/js/352.76f809ba.js"><link rel="prefetch" href="/celo-docs/assets/js/353.39b57067.js"><link rel="prefetch" href="/celo-docs/assets/js/354.2857784d.js"><link rel="prefetch" href="/celo-docs/assets/js/355.20dfbe0e.js"><link rel="prefetch" href="/celo-docs/assets/js/356.8eeb5760.js"><link rel="prefetch" href="/celo-docs/assets/js/357.e3da0a7e.js"><link rel="prefetch" href="/celo-docs/assets/js/358.eef170a8.js"><link rel="prefetch" href="/celo-docs/assets/js/359.907a574d.js"><link rel="prefetch" href="/celo-docs/assets/js/36.48c4a69c.js"><link rel="prefetch" href="/celo-docs/assets/js/360.6e16b540.js"><link rel="prefetch" href="/celo-docs/assets/js/361.58f4fde1.js"><link rel="prefetch" href="/celo-docs/assets/js/362.3f8d8272.js"><link rel="prefetch" href="/celo-docs/assets/js/363.b81f29e3.js"><link rel="prefetch" href="/celo-docs/assets/js/365.bfbd5741.js"><link rel="prefetch" href="/celo-docs/assets/js/366.4a393ada.js"><link rel="prefetch" href="/celo-docs/assets/js/367.d44235a0.js"><link rel="prefetch" href="/celo-docs/assets/js/368.222ac162.js"><link rel="prefetch" href="/celo-docs/assets/js/369.a4c10801.js"><link rel="prefetch" href="/celo-docs/assets/js/37.becef8c0.js"><link rel="prefetch" href="/celo-docs/assets/js/370.0f41ac54.js"><link rel="prefetch" href="/celo-docs/assets/js/371.1c4e70ad.js"><link rel="prefetch" href="/celo-docs/assets/js/372.4f15f199.js"><link rel="prefetch" href="/celo-docs/assets/js/373.ec25c662.js"><link rel="prefetch" href="/celo-docs/assets/js/374.63d9223d.js"><link rel="prefetch" href="/celo-docs/assets/js/375.73a99718.js"><link rel="prefetch" href="/celo-docs/assets/js/376.55c9b67a.js"><link rel="prefetch" href="/celo-docs/assets/js/377.0f037d02.js"><link rel="prefetch" href="/celo-docs/assets/js/378.47e6a80b.js"><link rel="prefetch" href="/celo-docs/assets/js/379.693d3bce.js"><link rel="prefetch" href="/celo-docs/assets/js/38.55faf7b1.js"><link rel="prefetch" href="/celo-docs/assets/js/380.60baff7e.js"><link rel="prefetch" href="/celo-docs/assets/js/381.b16dc54d.js"><link rel="prefetch" href="/celo-docs/assets/js/382.5861fe65.js"><link rel="prefetch" href="/celo-docs/assets/js/383.81fa1c91.js"><link rel="prefetch" href="/celo-docs/assets/js/39.6e5e15e1.js"><link rel="prefetch" href="/celo-docs/assets/js/4.2ad53764.js"><link rel="prefetch" href="/celo-docs/assets/js/40.60ca20f6.js"><link rel="prefetch" href="/celo-docs/assets/js/41.322042e9.js"><link rel="prefetch" href="/celo-docs/assets/js/42.79495b2e.js"><link rel="prefetch" href="/celo-docs/assets/js/43.4edcc41d.js"><link rel="prefetch" href="/celo-docs/assets/js/44.07718903.js"><link rel="prefetch" href="/celo-docs/assets/js/45.0c5d4e71.js"><link rel="prefetch" href="/celo-docs/assets/js/46.0e888180.js"><link rel="prefetch" href="/celo-docs/assets/js/47.f25ac2e7.js"><link rel="prefetch" href="/celo-docs/assets/js/48.4f1d69e9.js"><link rel="prefetch" href="/celo-docs/assets/js/49.924b53bc.js"><link rel="prefetch" href="/celo-docs/assets/js/5.76ea75ea.js"><link rel="prefetch" href="/celo-docs/assets/js/50.423b1283.js"><link rel="prefetch" href="/celo-docs/assets/js/51.2f3de7b8.js"><link rel="prefetch" href="/celo-docs/assets/js/52.57d408a4.js"><link rel="prefetch" href="/celo-docs/assets/js/53.e0a7843b.js"><link rel="prefetch" href="/celo-docs/assets/js/54.695d3946.js"><link rel="prefetch" href="/celo-docs/assets/js/55.c8f01890.js"><link rel="prefetch" href="/celo-docs/assets/js/56.a501ecc4.js"><link rel="prefetch" href="/celo-docs/assets/js/57.b383d3c1.js"><link rel="prefetch" href="/celo-docs/assets/js/58.460a4919.js"><link rel="prefetch" href="/celo-docs/assets/js/59.ec368306.js"><link rel="prefetch" href="/celo-docs/assets/js/6.e416f727.js"><link rel="prefetch" href="/celo-docs/assets/js/60.fb9858ce.js"><link rel="prefetch" href="/celo-docs/assets/js/61.dec9dbd2.js"><link rel="prefetch" href="/celo-docs/assets/js/62.827209b8.js"><link rel="prefetch" href="/celo-docs/assets/js/63.493e3e76.js"><link rel="prefetch" href="/celo-docs/assets/js/64.786da6b6.js"><link rel="prefetch" href="/celo-docs/assets/js/65.ba5b3f8d.js"><link rel="prefetch" href="/celo-docs/assets/js/66.7cae614e.js"><link rel="prefetch" href="/celo-docs/assets/js/67.0eb481b0.js"><link rel="prefetch" href="/celo-docs/assets/js/68.f124867c.js"><link rel="prefetch" href="/celo-docs/assets/js/69.f35c9f61.js"><link rel="prefetch" href="/celo-docs/assets/js/7.f931c09f.js"><link rel="prefetch" href="/celo-docs/assets/js/70.27eaf48b.js"><link rel="prefetch" href="/celo-docs/assets/js/71.41f17e47.js"><link rel="prefetch" href="/celo-docs/assets/js/72.4789f6f5.js"><link rel="prefetch" href="/celo-docs/assets/js/73.ff08f9cf.js"><link rel="prefetch" href="/celo-docs/assets/js/74.07fd3dac.js"><link rel="prefetch" href="/celo-docs/assets/js/75.5deceec3.js"><link rel="prefetch" href="/celo-docs/assets/js/76.ace709a7.js"><link rel="prefetch" href="/celo-docs/assets/js/77.38bf64b5.js"><link rel="prefetch" href="/celo-docs/assets/js/78.e5fc4e3a.js"><link rel="prefetch" href="/celo-docs/assets/js/79.13d23430.js"><link rel="prefetch" href="/celo-docs/assets/js/8.d1b9d997.js"><link rel="prefetch" href="/celo-docs/assets/js/80.e774b8e4.js"><link rel="prefetch" href="/celo-docs/assets/js/81.38807c37.js"><link rel="prefetch" href="/celo-docs/assets/js/82.81b58f04.js"><link rel="prefetch" href="/celo-docs/assets/js/83.ab8560a6.js"><link rel="prefetch" href="/celo-docs/assets/js/84.9e742ebf.js"><link rel="prefetch" href="/celo-docs/assets/js/85.0056e37f.js"><link rel="prefetch" href="/celo-docs/assets/js/86.bdfa562c.js"><link rel="prefetch" href="/celo-docs/assets/js/87.047ec6c0.js"><link rel="prefetch" href="/celo-docs/assets/js/88.125365fe.js"><link rel="prefetch" href="/celo-docs/assets/js/89.03ef9385.js"><link rel="prefetch" href="/celo-docs/assets/js/9.27944c69.js"><link rel="prefetch" href="/celo-docs/assets/js/90.0b0581b8.js"><link rel="prefetch" href="/celo-docs/assets/js/91.133b250c.js"><link rel="prefetch" href="/celo-docs/assets/js/92.76b11775.js"><link rel="prefetch" href="/celo-docs/assets/js/93.2e581c3b.js"><link rel="prefetch" href="/celo-docs/assets/js/94.ee386fef.js"><link rel="prefetch" href="/celo-docs/assets/js/95.9af83bb2.js"><link rel="prefetch" href="/celo-docs/assets/js/96.bd019dba.js"><link rel="prefetch" href="/celo-docs/assets/js/97.86588309.js"><link rel="prefetch" href="/celo-docs/assets/js/98.b4c3f3a3.js"><link rel="prefetch" href="/celo-docs/assets/js/99.376211ff.js">
    <link rel="stylesheet" href="/celo-docs/assets/css/0.styles.1ec6f8d8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/celo-docs/" class="home-link router-link-active"><!----> <span class="site-name">Vuepress Docs Boilerplate</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/celo-docs/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/celo-docs/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/celo-docs/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/celo-docs/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="running-a-validator-in-mainnet"><a href="#running-a-validator-in-mainnet" class="header-anchor">#</a> Running a Validator in Mainnet</h1> <p>This section explains how to get a Validator node running on <a href="/celo-docs/docs/getting-started/mainnet.html">Mainnet</a>.</p> <p>Validators help secure the Celo network by participating in Celo’s proof-of-stake protocol. Validators are organized into Validator Groups, analogous to parties in representative democracies. A Validator Group is essentially an ordered list of Validators.</p> <p>Just as anyone in a democracy can create their own political party, or seek to get selected to represent a party in an election, any Celo user can create a Validator group and add themselves to it, or set up a potential Validator and work to get an existing Validator group to include them.</p> <p>While other Validator Groups will exist on the Celo Network, the fastest way to get up and running with a Validator will be to register a Validator Group, register a Validator, and affliate that Validator with your Validator Group. The addresses used to register Validator Groups and Validators must be unique, which will require that you create two accounts in the step-by-step guide below.</p> <p>Because of the importance of Validator security and availability, Validators are expected to run a &quot;proxy&quot; node in front of each Validator node. In this setup, the Proxy node connects with the rest of the network, and the Validator node communicates only with the Proxy, ideally via a private network.</p> <p>Additionally, Validators are expected to run an <a href="https://github.com/celo-org/celo-monorepo/tree/master/packages/attestation-service" target="_blank" rel="noopener noreferrer">Attestation Service<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> as part of the <a href="../celo-codebase/protocol/identity">lightweight identity protocol</a>, to provide attestations that allow users to map their phone number to a Celo address.</p> <p><a href="https://medium.com/celoorg/calling-all-chefs-become-a-celo-validator-c75d1c2909aa" target="_blank" rel="noopener noreferrer">Read more about Celo's mission and why you may want to become a Validator.<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="prerequisites"><a href="#prerequisites" class="header-anchor">#</a> Prerequisites</h2> <h3 id="staking-requirements"><a href="#staking-requirements" class="header-anchor">#</a> Staking Requirements</h3> <p>Celo uses a <a href="../celo-codebase/protocol/proof-of-stake">proof-of-stake</a> consensus mechanism, which requires Validators to have locked CELO to participate in block production. The current requirement is 10,000 CELO to register a Validator, and 10,000 CELO <em>per member validator</em> to register a Validator Group.</p> <p>If you do not have the required CELO to lock up, you can try out of the process of creating a validator on the Baklava network by following the <a href="/celo-docs/docs/getting-started/running-a-validator-in-baklava.html">Running a Validator in Baklava guide</a></p> <p>We will not discuss obtaining CELO here, but it is a prerequisite that you obtain the required CELO, and it is assumed in this guide that your gold is held in two <code>ReleaseGold</code> contracts, one for the Validator and one for the Validator Group. If that is not the case, the provided commands will need to be adjusted, but the guide will still provide the required steps.</p> <p>At a high level, <code>ReleaseGold</code> holds a balance for scheduled release, while allowing the held balance to be used for certain actions such as validating and voting, depending on the configuration of the contract. <a href="/celo-docs/docs/celo-holder-guide/release-gold.html">Read more about <code>ReleaseGold</code></a>.</p> <h3 id="hardware-requirements"><a href="#hardware-requirements" class="header-anchor">#</a> Hardware requirements</h3> <p>The recommended Celo Validator setup involves continually running three instances:</p> <ul><li>1 <strong>Validator node</strong>: should be deployed to single-tenant hardware in a secure, high availability data center</li> <li>1 <strong>Validator Proxy node</strong>: can be a VM or container in a multi-tenant environment (e.g. a public cloud), but requires high availability</li> <li>1 <strong>Attestation node</strong>: can be a VM or container in a multi-tenant environment (e.g. a public cloud), and has moderate availability requirements</li></ul> <p>Celo is a proof-of-stake network, which has different hardware requirements than a Proof of Work network. proof-of-stake consensus is less CPU intensive, but is more sensitive to network connectivity and latency. Below is a list of standard requirements for running Validator and Proxy nodes on the Celo Network:</p> <ul><li>Memory: 8 GB RAM</li> <li>CPU: Quad core 3GHz (64-bit)</li> <li>Disk: 256 GB of SSD storage, plus a secondary HDD desirable</li> <li>Network: At least 1 GB input/output Ethernet with a fiber Internet connection, ideally redundant connections and HA switches</li></ul> <p>Attestation Service nodes consume less resources and can run on machines with less memory and compute.</p> <p>In addition, to get things started, it will be useful to run a node on your local machine that you can issue CLI commands against.</p> <h3 id="networking-requirements"><a href="#networking-requirements" class="header-anchor">#</a> Networking requirements</h3> <p>In order for your Validator to participate in consensus and complete attestations, it is <strong>critically</strong> important to configure your network correctly.</p> <p>Your Proxy and Attestations nodes must have static, external IP addresses, and your Validator node must be able to communicate with the Proxy, either via an internal network or via the Proxy's external IP address.</p> <p>On the Validator machine, port 30503 should accept TCP connections from the IP address of your Proxy machine. This port is used by the Validator to communicate with the Proxy.</p> <p>On the Proxy machine, port 30503 should accept TCP connections from the IP address of your Validator machine. This port is used by the Proxy to communicate with the Validator.</p> <p>On the Proxy and Attestations machines, port 30303 should accept TCP and UDP connections from all IP addresses. This port is used to communicate with other nodes in the network.</p> <p>On the Attestations machine, port 80 should accept TCP connections from all IP addresses. This port is used by users to request attestations from you.</p> <p>To illustrate this, you may refer to the following table:</p> <table><thead><tr><th>Machine \ IPs open to</th> <th>0.0.0.0/0 (all)</th> <th>your-validator-ip</th> <th>your-proxy-ip</th></tr></thead> <tbody><tr><td>Validator</td> <td></td> <td></td> <td>tcp:30503</td></tr> <tr><td>Proxy</td> <td>tcp:30303, udp:30303</td> <td>tcp:30503</td> <td></td></tr> <tr><td>Attestation</td> <td>tcp:80</td> <td></td> <td></td></tr></tbody></table> <h3 id="software-requirements"><a href="#software-requirements" class="header-anchor">#</a> Software requirements</h3> <h4 id="on-each-machine"><a href="#on-each-machine" class="header-anchor">#</a> On each machine</h4> <ul><li><p><strong>You have Docker installed.</strong></p> <p>If you don’t have it already, follow the instructions here: <a href="https://www.docker.com/get-started" target="_blank" rel="noopener noreferrer">Get Started with Docker<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. It will involve creating or signing in with a Docker account, downloading a desktop app, and then launching the app to be able to use the Docker CLI. If you are running on a Linux server, follow the instructions for your distro <a href="https://docs.docker.com/install/#server" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. You may be required to run Docker with <code>sudo</code> depending on your installation environment.
You can check you have Docker installed and running if the command <code>docker info</code> works properly.</p></li></ul> <h4 id="on-your-local-machine"><a href="#on-your-local-machine" class="header-anchor">#</a> On your local machine</h4> <ul><li><p><strong>You have celocli installed.</strong></p> <p>See <a href="/celo-docs/docs/command-line-interface/introduction.html">Command Line Interface (CLI) </a>for instructions on how to get set up.</p></li> <li><p><strong>You are using the latest Node 10.x LTS</strong></p> <p>Some users have reported issues using the most recent version of node. Use the LTS for greater reliability.</p></li></ul> <p>{% hint style=&quot;info&quot; %}
A note about conventions:
The code snippets you'll see on this page are bash commands and their output.</p> <p>When you see text in angle brackets &lt;&gt;, replace them and the text inside with your own value of what it refers to. Don't include the &lt;&gt; in the command.
{% endhint %}</p> <h3 id="key-management"><a href="#key-management" class="header-anchor">#</a> Key Management</h3> <p>Private keys are the central primitive of any cryptographic system and need to be handled with extreme care. Loss of your private key can lead to irreversible loss of value.</p> <p>This guide contains a large number of keys, so it is important to understand the purpose of each key. <a href="/celo-docs/docs/operations-manual/key-management/summary.html">Read more about key management.</a></p> <h4 id="unlocking"><a href="#unlocking" class="header-anchor">#</a> Unlocking</h4> <p>Celo nodes store private keys encrypted on disk with a password, and need to be &quot;unlocked&quot; before use. Private keys can be unlocked in two ways:</p> <ol><li>By running the <code>celocli account:unlock</code> command. Note that the node must have the &quot;personal&quot; RPC API enabled in order for this command to work.</li> <li>By setting the <code>--unlock</code> flag when starting the node.</li></ol> <p>It is important to note that when a key is unlocked you need to be particularly careful about enabling access to the node's RPC APIs.</p> <h3 id="environment-variables"><a href="#environment-variables" class="header-anchor">#</a> Environment variables</h3> <p>There are a number of environment variables in this guide, and you may use this table as a reference.</p> <table><thead><tr><th>Variable</th> <th>Explanation</th></tr></thead> <tbody><tr><td>CELO_IMAGE</td> <td>The Docker image used for the Validator and proxy containers</td></tr> <tr><td>NETWORK_ID</td> <td>The Celo Mainnet network chain ID</td></tr> <tr><td>CELO_VALIDATOR_GROUP_ADDRESS</td> <td>The account address for the Validator Group; the <code>ReleaseGold</code> beneficiary address for the Validator Group</td></tr> <tr><td>CELO_VALIDATOR_ADDRESS</td> <td>The account address for the Validator; the <code>ReleaseGold</code> beneficiary address for the Validator</td></tr> <tr><td>CELO_VALIDATOR_GROUP_RG_ADDRESS</td> <td>The <code>ReleaseGold</code> contract address for the Validator Group</td></tr> <tr><td>CELO_VALIDATOR_RG_ADDRESS</td> <td>The <code>ReleaseGold</code> contract address for the Validator</td></tr> <tr><td>CELO_VALIDATOR_GROUP_SIGNER_ADDRESS</td> <td>The validator (group) signer address authorized by the Validator Group account.</td></tr> <tr><td>CELO_VALIDATOR_GROUP_SIGNER_SIGNATURE</td> <td>The proof-of-possession of the Validator Group signer key</td></tr> <tr><td>CELO_VALIDATOR_SIGNER_ADDRESS</td> <td>The validator signer address authorized by the Validator Account</td></tr> <tr><td>CELO_VALIDATOR_SIGNER_PUBLIC_KEY</td> <td>The ECDSA public key associated with the Validator signer address</td></tr> <tr><td>CELO_VALIDATOR_SIGNER_SIGNATURE</td> <td>The proof-of-possession of the Validator signer key</td></tr> <tr><td>CELO_VALIDATOR_SIGNER_BLS_PUBLIC_KEY</td> <td>The BLS public key for the Validator instance</td></tr> <tr><td>CELO_VALIDATOR_SIGNER_BLS_SIGNATURE</td> <td>A proof-of-possession of the BLS public key</td></tr> <tr><td>CELO_VALIDATOR_GROUP_VOTE_SIGNER_ADDRESS</td> <td>The address of the Validator Group vote signer</td></tr> <tr><td>CELO_VALIDATOR_GROUP_VOTE_SIGNER_PUBLIC_KEY</td> <td>The ECDSA public key associated with the Validator Group vote signer address</td></tr> <tr><td>CELO_VALIDATOR_GROUP_VOTE_SIGNER_SIGNATURE</td> <td>The proof-of-possession of the Validator Group vote signer key</td></tr> <tr><td>CELO_VALIDATOR_VOTE_SIGNER_ADDRESS</td> <td>The address of the Validator vote signer</td></tr> <tr><td>CELO_VALIDATOR_VOTE_SIGNER_PUBLIC_KEY</td> <td>The ECDSA public key associated with the Validator vote signer address</td></tr> <tr><td>CELO_VALIDATOR_VOTE_SIGNER_SIGNATURE</td> <td>The proof-of-possession of the Validator vote signer key</td></tr> <tr><td>PROXY_ENODE</td> <td>The enode address for the Validator proxy</td></tr> <tr><td>PROXY_INTERNAL_IP</td> <td>(Optional) The internal IP address over which your Validator can communicate with your proxy</td></tr> <tr><td>PROXY_EXTERNAL_IP</td> <td>The external IP address of the proxy. May be used by the Validator to communicate with the proxy if PROXY_INTERNAL_IP is unspecified</td></tr> <tr><td>CELO_ATTESTATION_SIGNER_ADDRESS</td> <td>The address of the attestation signer authorized by the Validator Account</td></tr> <tr><td>CELO_ATTESTATION_SIGNER_SIGNATURE</td> <td>The proof-of-possession of the attestation signer key</td></tr> <tr><td>CELO_ATTESTATION_SERVICE_URL</td> <td>The URL to access the deployed Attestation Service</td></tr> <tr><td>METADATA_URL</td> <td>The URL to access the metadata file for your Attestation Service</td></tr> <tr><td>DATABASE_URL</td> <td>The URL under which your database is accessible, currently supported are <code>postgres://</code>, <code>mysql://</code> and <code>sqlite://</code></td></tr> <tr><td>SMS_PROVIDERS</td> <td>A comma-separated list of providers you want to configure, Celo currently supports <code>nexmo</code> &amp; <code>twilio</code></td></tr></tbody></table> <h2 id="network-deployment-timeline"><a href="#network-deployment-timeline" class="header-anchor">#</a> Network Deployment Timeline</h2> <p>The setup of mainnet is similar to the new Baklava network and the deployment timeline is as follows (all dates are subject to change):</p> <p>Done:</p> <ul><li>4/19 00:00 UTC: Docker image with genesis block distributed</li> <li>4/19 - 4/22: Infrastructure setup</li> <li>4/22 16:00 UTC: Block production begins</li> <li>4/22: Celo Core Contracts and <code>ReleaseGold</code> contracts are deployed</li> <li>4/27: Governance proposals submitted to unfreeze validator elections and validator epoch rewards</li> <li>5/1: Elections and validator rewards enabled if governance proposals pass; validators have been registered and affiliated with a Validator Group for first election</li> <li>5/14: Governance proposals submitted to enable voter rewards and enable CELO transfers</li> <li>5/18: RC1 is declared Mainnet and CELO transfers are enabled, if governance proposals pass</li></ul> <p>Upcoming:</p> <ul><li>~5/25: Deployment of CELO/USD Oracles</li> <li>~5/31: Governance proposal submitted to unfreeze stability protocol</li> <li>~6/3: Stability protocol goes live if governance proposal passes</li></ul> <p>{% hint style=&quot;info&quot; %}
A <a href="https://forum.celo.org/t/release-candidate-1-rc1-timeline-and-details/428" target="_blank" rel="noopener noreferrer">timeline<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> of the Release Candidate 1 and Mainnet networks is available to provide further context.
{% endhint %}</p> <h2 id="validator-node-setup"><a href="#validator-node-setup" class="header-anchor">#</a> Validator Node Setup</h2> <p>This section outlines the steps needed to configure your Proxy and Validator nodes so that they are ready to sign blocks once elected.</p> <h3 id="environment-variables-2"><a href="#environment-variables-2" class="header-anchor">#</a> Environment Variables</h3> <p>First we are going to set up the main environment variables related to the mainnet network. Run these on both your <strong>Validator</strong> and <strong>Proxy</strong> machines:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">CELO_IMAGE</span><span class="token operator">=</span>us.gcr.io/celo-org/celo-node:mainnet
<span class="token builtin class-name">export</span> <span class="token assign-left variable">NETWORK_ID</span><span class="token operator">=</span><span class="token number">42220</span>
</code></pre></div><h3 id="pull-the-celo-docker-image"><a href="#pull-the-celo-docker-image" class="header-anchor">#</a> Pull the Celo Docker image</h3> <p>In all the commands we are going to see the <code>CELO_IMAGE</code> variable to refer to the Docker image to use. Now we can get the Docker image on your Validator and Proxy machines:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>docker pull <span class="token variable">$CELO_IMAGE</span>
</code></pre></div><p>The <code>us.gcr.io/celo-org/celo-node:mainnet</code> image contains the <a href="https://github.com/celo-org/celo-monorepo/blob/master/packages/celotool/genesis_rc1.json" target="_blank" rel="noopener noreferrer">genesis block<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> in addition to the Celo Blockchain binary.</p> <h3 id="start-your-accounts-node"><a href="#start-your-accounts-node" class="header-anchor">#</a> Start your Accounts node</h3> <p>Next, we'll run a node on your local machine so that we can use these accounts to lock CELO and authorize the keys needed to run your validator. To do this, we need to run the following commands, which fetch the genesis block and a list of other nodes in the network to connect to.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
docker run -v <span class="token environment constant">$PWD</span>:/root/.celo --rm -it <span class="token variable">$CELO_IMAGE</span> init /celo/genesis.json
<span class="token builtin class-name">export</span> <span class="token assign-left variable">BOOTNODE_ENODES</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>docker run --rm --entrypoint <span class="token function">cat</span> $CELO_IMAGE /celo/bootnodes<span class="token variable">`</span></span>
</code></pre></div><p>To run the node:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
<span class="token function">mkdir</span> celo-accounts-node
<span class="token builtin class-name">cd</span> celo-accounts-node
docker run --name celo-accounts -it --restart always -p <span class="token number">127.0</span>.0.1:8545:8545 -v <span class="token environment constant">$PWD</span>:/root/.celo <span class="token variable">$CELO_IMAGE</span> --verbosity <span class="token number">3</span> --networkid <span class="token variable">$NETWORK_ID</span> --syncmode full --rpc --rpcaddr <span class="token number">0.0</span>.0.0 --rpcapi eth,net,web3,debug,admin,personal --bootnodes <span class="token variable">$BOOTNODE_ENODES</span>
</code></pre></div><p>{% hint style=&quot;danger&quot; %}
<strong>Security</strong>: The command line above includes the parameter <code>--rpcaddr 0.0.0.0</code> which makes the Celo Blockchain software listen for incoming RPC requests on all network adaptors. Exercise extreme caution in doing this when running outside Docker, as it means that any unlocked accounts and their funds may be accessed from other machines on the Internet. In the context of running a Docker container on your local machine, this together with the <code>docker -p 127.0.0.1:localport:containerport</code> flags allows you to make RPC calls from outside the container, i.e from your local host, but not from outside your machine. Read more about <a href="https://docs.docker.com/network/network-tutorial-standalone/#use-user-defined-bridge-networks" target="_blank" rel="noopener noreferrer">Docker Networking<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> here.
{% endhint %}</p> <h3 id="deploy-a-proxy"><a href="#deploy-a-proxy" class="header-anchor">#</a> Deploy a proxy</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On the proxy machine</span>
<span class="token function">mkdir</span> celo-proxy-node
<span class="token builtin class-name">cd</span> celo-proxy-node
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CELO_VALIDATOR_SIGNER_ADDRESS</span><span class="token operator">=</span><span class="token operator">&lt;</span>YOUR-VALIDATOR-SIGNER-ADDRESS<span class="token operator">&gt;</span>
docker run -v <span class="token environment constant">$PWD</span>:/root/.celo --rm -it <span class="token variable">$CELO_IMAGE</span> init /celo/genesis.json
<span class="token builtin class-name">export</span> <span class="token assign-left variable">BOOTNODE_ENODES</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span>docker run --rm --entrypoint <span class="token function">cat</span> $CELO_IMAGE /celo/bootnodes<span class="token variable">)</span></span>&quot;</span>
</code></pre></div><p>You can then run the proxy with the following command. Be sure to replace <code>&lt;YOUR-VALIDATOR-NAME&gt;</code> with the name you'd like to appear on Celostats. The validator name shown in <a href="https://stats.celo.org/" target="_blank" rel="noopener noreferrer">Celostats<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> will be the name configured in the proxy.</p> <p>Additionally, you need to unlock the account configured in the <code>etherbase</code> option. It is recommended to create a new account and independent account only for this purpose. Be sure to write a new password to <code>./.password</code> for this account (different to the Validator Signer password)</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On the proxy machine</span>
<span class="token comment"># First, we create a new account for the proxy</span>
docker run --name celo-proxy-password -it --rm  -v <span class="token environment constant">$PWD</span>:/root/.celo <span class="token variable">$CELO_IMAGE</span> account new --password /root/.celo/.password
</code></pre></div><p>Notice the public address returned by this command, that can be exported and used for running the proxy node:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On the proxy machine</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">PROXY_ADDRESS</span><span class="token operator">=</span><span class="token operator">&lt;</span>PROXY-PUBLIC-ADDRESS<span class="token operator">&gt;</span>
docker run --name celo-proxy -it --restart unless-stopped -p <span class="token number">30303</span>:30303 -p <span class="token number">30303</span>:30303/udp -p <span class="token number">30503</span>:30503 -p <span class="token number">30503</span>:30503/udp -v <span class="token environment constant">$PWD</span>:/root/.celo <span class="token variable">$CELO_IMAGE</span> --verbosity <span class="token number">3</span> --networkid <span class="token variable">$NETWORK_ID</span> --nousb --syncmode full --proxy.proxy --proxy.proxiedvalidatoraddress <span class="token variable">$CELO_VALIDATOR_SIGNER_ADDRESS</span> --proxy.internalendpoint :30503 --etherbase <span class="token variable">$PROXY_ADDRESS</span> --unlock <span class="token variable">$PROXY_ADDRESS</span> --password /root/.celo/.password --allow-insecure-unlock --bootnodes <span class="token variable">$BOOTNODE_ENODES</span> --ethstats<span class="token operator">=</span><span class="token operator">&lt;</span>YOUR-VALIDATOR-NAME<span class="token operator">&gt;</span>@stats-server.celo.org
</code></pre></div><p><strong>OPTIONAL</strong>
In addition to the bootnode enode URLs provided by the cLabs team, the Celo validator community will contribute full node peers to help kickstart your nodes' peer discovery and block synchronisation processes. Here is the current list, set to <code>COMMUNITY_ENODES</code>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">COMMUNITY_ENODES</span><span class="token operator">=</span><span class="token string">&quot;enode://f65013f1ac6827e275c2d2737ce13357f620d4364124d02227a19321c57f8fbf9214a9411de49d49f180b085b031d9d23211a6ead4499fc5f9d3592b55322123@50.17.60.161:30303&quot;</span>
</code></pre></div><p>To use the nodes, set them to the value of the <code>bootnodes</code> or <code>bootnodesv4</code> options when running your node-starting <code>docker run...</code> commands (in this example, we will use <code>bootnodesv4</code> to keep the original command intact). To bootstrap your proxy node, you can run the command below (the same command at line 239 appended with <code>--bootnodesv4 $COMMUNITY_ENODES</code>):</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">COMMUNITY_ENODES</span><span class="token operator">=</span><span class="token string">&quot;enode://f65013f1ac6827e275c2d2737ce13357f620d4364124d02227a19321c57f8fbf9214a9411de49d49f180b085b031d9d23211a6ead4499fc5f9d3592b55322123@50.17.60.161:30303&quot;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">PROXY_ADDRESS</span><span class="token operator">=</span><span class="token operator">&lt;</span>PROXY-PUBLIC-ADDRESS<span class="token operator">&gt;</span>
docker run --name celo-proxy -it --restart unless-stopped -p <span class="token number">30303</span>:30303 -p <span class="token number">30303</span>:30303/udp -p <span class="token number">30503</span>:30503 -p <span class="token number">30503</span>:30503/udp -v <span class="token environment constant">$PWD</span>:/root/.celo <span class="token variable">$CELO_IMAGE</span> --verbosity <span class="token number">3</span> --networkid <span class="token variable">$NETWORK_ID</span> --nousb --syncmode full --proxy.proxy --proxy.proxiedvalidatoraddress <span class="token variable">$CELO_VALIDATOR_SIGNER_ADDRESS</span> --proxy.internalendpoint :30503 --etherbase <span class="token variable">$PROXY_ADDRESS</span> --unlock <span class="token variable">$PROXY_ADDRESS</span> --password /root/.celo/.password --allow-insecure-unlock --bootnodes <span class="token variable">$BOOTNODE_ENODES</span> --ethstats<span class="token operator">=</span><span class="token operator">&lt;</span>YOUR-VALIDATOR-NAME<span class="token operator">&gt;</span>@stats-server.celo.org --bootnodesv4 <span class="token variable">$COMMUNITY_ENODES</span>
</code></pre></div><p>Hint: If you are running into trouble peering with the full nodes, one of the first things to check is whether your container's ports are properly configured (i.e. specifically, <code>-p 30303:30303 -p 30303:30303/udp</code> - which is set in the proxy node's command, but not the account node's command).</p> <p>{% hint style=&quot;info&quot; %}
You can detach from the running container by pressing <code>ctrl+p ctrl+q</code>, or start it with <code>-d</code> instead of <code>-it</code> to start detached. Access the logs for a container in the background with the <code>docker logs</code> command.
{% endhint %}</p> <h3 id="get-your-proxy-s-connection-info"><a href="#get-your-proxy-s-connection-info" class="header-anchor">#</a> Get your Proxy's connection info</h3> <p>Once the Proxy is running, we will need to retrieve its enode and IP address so that the Validator will be able to connect to it.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On the proxy machine, retrieve the proxy enode</span>
docker <span class="token builtin class-name">exec</span> celo-proxy geth --exec <span class="token string">&quot;admin.nodeInfo['enode'].split('//')[1].split('@')[0]&quot;</span> attach <span class="token operator">|</span> <span class="token function">tr</span> -d <span class="token string">'&quot;'</span>
</code></pre></div><p>Now we need to set the Proxy enode and Proxy IP address in environment variables on the Validator machine.</p> <p>If you don't have an internal IP address over which the Validator and Proxy can communicate, you can set the internal IP address to the external IP address.</p> <p>If you don't know your proxy's external IP address, you can get it by running the following command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On the proxy machine</span>
<span class="token function">dig</span> +short myip.opendns.com @resolver1.opendns.com
</code></pre></div><p>Then, export the variables on your Validator machine.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On the Validator machine</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">PROXY_ENODE</span><span class="token operator">=</span><span class="token operator">&lt;</span>YOUR-PROXY-ENODE<span class="token operator">&gt;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">PROXY_EXTERNAL_IP</span><span class="token operator">=</span><span class="token operator">&lt;</span>PROXY-MACHINE-EXTERNAL-IP-ADDRESS<span class="token operator">&gt;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">PROXY_INTERNAL_IP</span><span class="token operator">=</span><span class="token operator">&lt;</span>PROXY-MACHINE-INTERNAL-IP-ADDRESS<span class="token operator">&gt;</span>
</code></pre></div><p>You will also need to export <code>PROXY_EXTERNAL_IP</code> on your local machine.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">PROXY_EXTERNAL_IP</span><span class="token operator">=</span><span class="token operator">&lt;</span>PROXY-MACHINE-EXTERNAL-IP-ADDRESS<span class="token operator">&gt;</span>
</code></pre></div><h3 id="deploy-a-validator-machine"><a href="#deploy-a-validator-machine" class="header-anchor">#</a> Deploy a Validator Machine</h3> <p>The Validator machine is node that actually assembles and signs blocks to particpate in consesnsus. We will set it up in this section.</p> <p>To operate as a validator, you'll need to generate a validator signer key. On your Validator machine (which should not be accessible from the public internet), follow very similar steps:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On the validator machine</span>
<span class="token function">mkdir</span> celo-validator-node
<span class="token builtin class-name">cd</span> celo-validator-node
docker run -v <span class="token environment constant">$PWD</span>:/root/.celo --rm -it <span class="token variable">$CELO_IMAGE</span> account new
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CELO_VALIDATOR_SIGNER_ADDRESS</span><span class="token operator">=</span><span class="token operator">&lt;</span>YOUR-VALIDATOR-SIGNER-ADDRESS<span class="token operator">&gt;</span>
</code></pre></div><p>When your Validator starts up it will attempt to create a network connection with the proxy machine. You will need to make sure that your proxy machine has the appropriate firewall settings to allow the Validator to connect to it.</p> <p>Specifically, on the proxy machine, port 30303 should allow TCP and UDP connections from all IP addresses. And port 30503 should allow TCP connections from the IP address of your Validator machine.</p> <p>Test that your network is configured correctly by running the following commands:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine, test that your proxy is accepting TCP connections over port 30303.</span>
<span class="token comment"># Note that it will also need to be accepting UDP connections over this port.</span>
<span class="token function">nc</span> -vz <span class="token variable">$PROXY_EXTERNAL_IP</span> <span class="token number">30303</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your Validator machine, test that your proxy is accepting TCP connections over port 30503.</span>
<span class="token function">nc</span> -vz <span class="token variable">$PROXY_INTERNAL_IP</span> <span class="token number">30503</span>
</code></pre></div><p>Once that is completed, go ahead and run the Validator. Be sure to write your Validator signer password to <code>./.password</code> for the following command to work, or provide your password another way.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On the Validator machine</span>
<span class="token builtin class-name">cd</span> celo-validator-node
docker run -v <span class="token environment constant">$PWD</span>:/root/.celo --rm -it <span class="token variable">$CELO_IMAGE</span> init /celo/genesis.json
docker run --name celo-validator -it --restart unless-stopped -p <span class="token number">30303</span>:30303 -p <span class="token number">30303</span>:30303/udp -v <span class="token environment constant">$PWD</span>:/root/.celo <span class="token variable">$CELO_IMAGE</span> --verbosity <span class="token number">3</span> --networkid <span class="token variable">$NETWORK_ID</span> --syncmode full --mine --istanbul.blockperiod<span class="token operator">=</span><span class="token number">5</span> --istanbul.requesttimeout<span class="token operator">=</span><span class="token number">3000</span> --etherbase <span class="token variable">$CELO_VALIDATOR_SIGNER_ADDRESS</span> --nodiscover --nousb --proxy.proxied --proxy.proxyenodeurlpair<span class="token operator">=</span>enode://<span class="token variable">$PROXY_ENODE</span>@<span class="token variable">$PROXY_INTERNAL_IP</span>:30503<span class="token punctuation">\</span><span class="token punctuation">;</span>enode://<span class="token variable">$PROXY_ENODE</span>@<span class="token variable">$PROXY_EXTERNAL_IP</span>:30303 --unlock<span class="token operator">=</span><span class="token variable">$CELO_VALIDATOR_SIGNER_ADDRESS</span> --password /root/.celo/.password --ethstats<span class="token operator">=</span><span class="token operator">&lt;</span>YOUR-VALIDATOR-NAME<span class="token operator">&gt;</span>@stats-server.celo.org
</code></pre></div><p>The <code>networkid</code> parameter value of <code>42220</code> indicates we are connecting to the Mainnet network.</p> <p>At this point your Validator and Proxy machines should be configured, and both should be syncing to the network. You should see <code>Imported new chain segment</code> in your node logs, about once every 5 seconds once the node is synced to the latest block which you can find on the <a href="https://stats.celo.org" target="_blank" rel="noopener noreferrer">Network Stats<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> page.</p> <h2 id="registering-as-a-validator"><a href="#registering-as-a-validator" class="header-anchor">#</a> Registering as a Validator</h2> <p>In order to operate as a Validator, you must register on-chain and be elected. Elections will run on each epoch boundary, approximatly every 24 hours, after elections have been unfrozen by on-chain governance. Eligible validator groups will be considered in an Election mechanism that will select Validator based on the <a href="https://en.wikipedia.org/wiki/D%27Hondt_method" target="_blank" rel="noopener noreferrer">D'Hondt method<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>In the following steps, this guide will assume your CELO is held in a <code>ReleaseGold</code> contract, if this is not the case, the commands will need to be adjusted. At a high level, <code>ReleaseGold</code> holds a balance for scheduled release, while allowing the held balance to be used for certain actions such as validating and voting, depending on the configuration of the contract. <a href="/celo-docs/docs/celo-holder-guide/release-gold.html">Read more about <code>ReleaseGold</code>.</a></p> <p><strong>Once elections are running, the genesis validators will be replaced by the elected validators, so it is important to register and vote even if you are in the genesis set.</strong></p> <p>The following sections outline the actions you will need to take. On a high level, you will:</p> <ul><li>Create Accounts and lock up the balance of each <code>ReleaseGold</code> contract</li> <li>Register a Validator</li> <li>Register a Validator Group</li> <li>Add the registered Validator to the Validator Group</li> <li>Vote for the group with funds from each <code>ReleaseGold</code> contract</li></ul> <h3 id="create-accounts-from-the-releasegold-contracts"><a href="#create-accounts-from-the-releasegold-contracts" class="header-anchor">#</a> Create Accounts from the <code>ReleaseGold</code> contracts</h3> <p>In order to participate on the network (lock gold, vote, validate) from a <code>ReleaseGold</code> contract, we need to create a registered Account with the address of the <code>ReleaseGold</code> contract.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CELO_VALIDATOR_GROUP_RG_ADDRESS</span><span class="token operator">=</span><span class="token operator">&lt;</span>YOUR-CELO-VALIDATOR-GROUP-RG-ADDRESS<span class="token operator">&gt;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CELO_VALIDATOR_RG_ADDRESS</span><span class="token operator">=</span><span class="token operator">&lt;</span>YOUR-CELO-VALIDATOR-RG-ADDRESS<span class="token operator">&gt;</span>
</code></pre></div><p>Show the configuration and balance of your <code>ReleaseGold</code> contracts:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
celocli releasegold:show --contract <span class="token variable">$CELO_VALIDATOR_GROUP_RG_ADDRESS</span>
celocli releasegold:show --contract <span class="token variable">$CELO_VALIDATOR_RG_ADDRESS</span>
</code></pre></div><p>{% hint style=&quot;info&quot; %}
When running the following commands, the Beneficiary keys should be <a href="#unlocking">unlocked</a>.
{% endhint %}</p> <p>Create a registered Account for each of the Validator and Validator Group's <code>ReleaseGold</code> contracts:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
celocli releasegold:create-account --contract <span class="token variable">$CELO_VALIDATOR_GROUP_RG_ADDRESS</span>
celocli releasegold:create-account --contract <span class="token variable">$CELO_VALIDATOR_RG_ADDRESS</span>
</code></pre></div><p>By running the following commands, you can see that the <code>ReleaseGold</code> contract addresses are now also associated with a registered Account.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
celocli account:show <span class="token variable">$CELO_VALIDATOR_GROUP_RG_ADDRESS</span>
celocli account:show <span class="token variable">$CELO_VALIDATOR_RG_ADDRESS</span>
</code></pre></div><p>Lock CELO from your <code>ReleaseGold</code> contracts to fulfill the lock-up requirements to register a Validator and Validator Group. The current requirement is any value strictly greater than 10,000 CELO to register a Validator, and any value strictly greater than 10,000 CELO <em>per member validator</em> to register a Validator Group. Here we lock up 10000.1 CELO for each.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>celocli releasegold:locked-gold --contract <span class="token variable">$CELO_VALIDATOR_GROUP_RG_ADDRESS</span> --action lock --value 100001e17
celocli releasegold:locked-gold --contract <span class="token variable">$CELO_VALIDATOR_RG_ADDRESS</span> --action lock --value 100001e17
</code></pre></div><p>Check that your CELO was successfully locked with the following commands:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
celocli lockedgold:show <span class="token variable">$CELO_VALIDATOR_GROUP_RG_ADDRESS</span>
celocli lockedgold:show <span class="token variable">$CELO_VALIDATOR_RG_ADDRESS</span>
</code></pre></div><h3 id="register-as-a-validator"><a href="#register-as-a-validator" class="header-anchor">#</a> Register as a Validator</h3> <p>In order to perform Validator actions with the Account created in the previous step, you will need to authorize a <a href="/celo-docs/docs/operations-manual/key-management/detailed.html#authorized-validator-signers">Validator signer</a> for the <code>ReleaseGold</code> contract account.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On the Validator machine</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CELO_VALIDATOR_RG_ADDRESS</span><span class="token operator">=</span><span class="token operator">&lt;</span>YOUR-CELO-VALIDATOR-RG-ADDRESS<span class="token operator">&gt;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CELO_VALIDATOR_SIGNER_ADDRESS</span><span class="token operator">=</span><span class="token operator">&lt;</span>YOUR-VALIDATOR-SIGNER-ADDRESS<span class="token operator">&gt;</span>
docker run -v <span class="token environment constant">$PWD</span>:/root/.celo --rm -it <span class="token variable">$CELO_IMAGE</span> --nousb account proof-of-possession <span class="token variable">$CELO_VALIDATOR_SIGNER_ADDRESS</span> <span class="token variable">$CELO_VALIDATOR_RG_ADDRESS</span>
</code></pre></div><p>Save the signer address, public key, and proof-of-possession signature to your local machine:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CELO_VALIDATOR_SIGNER_ADDRESS</span><span class="token operator">=</span><span class="token operator">&lt;</span>YOUR-VALIDATOR-SIGNER-ADDRESS<span class="token operator">&gt;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CELO_VALIDATOR_SIGNER_SIGNATURE</span><span class="token operator">=</span><span class="token operator">&lt;</span>YOUR-VALIDATOR-SIGNER-SIGNATURE<span class="token operator">&gt;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CELO_VALIDATOR_SIGNER_PUBLIC_KEY</span><span class="token operator">=</span><span class="token operator">&lt;</span>YOUR-VALIDATOR-SIGNER-PUBLIC-KEY<span class="token operator">&gt;</span>
</code></pre></div><p>Validators on the Celo network use BLS aggregated signatures to create blocks in addition to the Validator signer (ECDSA) key. While an independent BLS key can be specified, the simplest thing to do is to derive the BLS key from the Validator signer. When we register our Validator, we'll need to prove possession of the BLS key as well, which can be done by running the following command.</p> <p>If you were part of the genesis validator set, you will have already generated this key and submitted it via Gist. Note that if you are planning to run more than one validator, each validator will need a distinct BLS key.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On the Validator machine</span>
docker run -v <span class="token environment constant">$PWD</span>:/root/.celo --rm -it <span class="token variable">$CELO_IMAGE</span> --nousb account proof-of-possession <span class="token variable">$CELO_VALIDATOR_SIGNER_ADDRESS</span> <span class="token variable">$CELO_VALIDATOR_RG_ADDRESS</span> --bls
</code></pre></div><p>Save the resulting signature and public key to your local machine:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CELO_VALIDATOR_SIGNER_BLS_SIGNATURE</span><span class="token operator">=</span><span class="token operator">&lt;</span>YOUR-VALIDATOR-SIGNER-SIGNATURE<span class="token operator">&gt;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CELO_VALIDATOR_SIGNER_BLS_PUBLIC_KEY</span><span class="token operator">=</span><span class="token operator">&lt;</span>YOUR-VALIDATOR-SIGNER-BLS-PUBLIC-KEY<span class="token operator">&gt;</span>
</code></pre></div><p>In order to validate we need to authorize the Validator signer:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
celocli releasegold:authorize --contract <span class="token variable">$CELO_VALIDATOR_RG_ADDRESS</span> --role validator --signature 0x<span class="token variable">$CELO_VALIDATOR_SIGNER_SIGNATURE</span> --signer <span class="token variable">$CELO_VALIDATOR_SIGNER_ADDRESS</span>
</code></pre></div><p>{% hint style=&quot;info&quot; %} The first time you authorize a validator signer for a ReleaseGold account the signer address is funded 1 CELO to cover tx fees. Any subsequent validator signers you authorize will not be funded. {% endhint %}</p> <p>Using the newly authorized Validator signer, register a validator on behalf of the registered Account:</p> <p>{% hint style=&quot;info&quot; %}
Running the following command requires the keys for the validator signer address. This command can be run on the validator machine, or if the keys are also available on your local machine, it can be run there.
{% endhint %}</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On a machine with CELO_VALIDATOR_SIGNER_ADDRESS unlocked.</span>
celocli validator:register --blsKey <span class="token variable">$CELO_VALIDATOR_SIGNER_BLS_PUBLIC_KEY</span> --blsSignature <span class="token variable">$CELO_VALIDATOR_SIGNER_BLS_SIGNATURE</span> --ecdsaKey <span class="token variable">$CELO_VALIDATOR_SIGNER_PUBLIC_KEY</span> --from <span class="token variable">$CELO_VALIDATOR_SIGNER_ADDRESS</span>
</code></pre></div><p>You can view information about your Validator by running the following command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
celocli validator:show <span class="token variable">$CELO_VALIDATOR_RG_ADDRESS</span>
</code></pre></div><h3 id="register-as-a-validator-group"><a href="#register-as-a-validator-group" class="header-anchor">#</a> Register as a Validator Group</h3> <p>In order to register a Validator Group, you will need to authorize a validator (group) signer on behalf of the <code>ReleaseGold</code> registered Account. In these steps you will create a new key on your local machine for this purpose.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
docker run -v <span class="token environment constant">$PWD</span>:/root/.celo --rm -it <span class="token variable">$CELO_IMAGE</span> account new
</code></pre></div><p>And save this new address:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">CELO_VALIDATOR_GROUP_SIGNER_ADDRESS</span><span class="token operator">=</span><span class="token operator">&lt;</span>YOUR-VALIDATOR-GROUP-SIGNER-ADDRESS<span class="token operator">&gt;</span>
</code></pre></div><p>In order to authorize our Validator Group signer, we need to create a proof that we have possession of the Validator Group signer private key. We do so by signing a message that consists of the authorizing registered Account address, in this case, the <code>ReleaseGold</code> contract address.</p> <p>To generate the proof-of-possession, run the following command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
docker run -v <span class="token environment constant">$PWD</span>:/root/.celo --rm -it <span class="token variable">$CELO_IMAGE</span> --nousb account proof-of-possession <span class="token variable">$CELO_VALIDATOR_GROUP_SIGNER_ADDRESS</span> <span class="token variable">$CELO_VALIDATOR_GROUP_RG_ADDRESS</span>
</code></pre></div><p>Save the signer address, public key, and proof-of-possession signature to your local machine:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">CELO_VALIDATOR_GROUP_SIGNER_SIGNATURE</span><span class="token operator">=</span><span class="token operator">&lt;</span>YOUR-VALIDATOR-GROUP-SIGNER-SIGNATURE<span class="token operator">&gt;</span>
</code></pre></div><p>Authorize your Validator Group signer:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
celocli releasegold:authorize --contract <span class="token variable">$CELO_VALIDATOR_GROUP_RG_ADDRESS</span> --role validator --signature 0x<span class="token variable">$CELO_VALIDATOR_GROUP_SIGNER_SIGNATURE</span> --signer <span class="token variable">$CELO_VALIDATOR_GROUP_SIGNER_ADDRESS</span>
</code></pre></div><p>With this newly authorized signer, you can register a Validator Group on behalf of the regsitered Account:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
celocli validatorgroup:register --from <span class="token variable">$CELO_VALIDATOR_GROUP_SIGNER_ADDRESS</span> --commission <span class="token number">0.1</span>
</code></pre></div><p>You can view information about your Validator Group by running the following command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
celocli validatorgroup:show <span class="token variable">$CELO_VALIDATOR_GROUP_RG_ADDRESS</span>
</code></pre></div><h3 id="affiliate-the-validator-with-the-group"><a href="#affiliate-the-validator-with-the-group" class="header-anchor">#</a> Affiliate the Validator with the group</h3> <p>Now that the Validator and the group are registered, you can affiliate the Validator with the group, indicating that Validator's desire to join the group.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On the Validator machine</span>
celocli validator:affiliate <span class="token variable">$CELO_VALIDATOR_GROUP_RG_ADDRESS</span> --from <span class="token variable">$CELO_VALIDATOR_SIGNER_ADDRESS</span>
</code></pre></div><p>The Validator Group can then accept the Validator as a member:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
celocli validatorgroup:member --accept <span class="token variable">$CELO_VALIDATOR_RG_ADDRESS</span> --from <span class="token variable">$CELO_VALIDATOR_GROUP_SIGNER_ADDRESS</span>
</code></pre></div><p>Verify that your Validator is now a member of your Validator Group:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
celocli validator:show <span class="token variable">$CELO_VALIDATOR_RG_ADDRESS</span>
celocli validatorgroup:show <span class="token variable">$CELO_VALIDATOR_GROUP_RG_ADDRESS</span>
</code></pre></div><h3 id="vote-in-the-election"><a href="#vote-in-the-election" class="header-anchor">#</a> Vote in the Election</h3> <p>In order to get elected as a Validator, you will need to use the balance of your <code>ReleaseGold</code> contracts to vote for your group.</p> <h4 id="authorize-vote-signer"><a href="#authorize-vote-signer" class="header-anchor">#</a> Authorize vote signer</h4> <p>In order to vote on behalf of the <code>ReleaseGold</code> registered Accounts you will need to authorize vote signers.</p> <p>Create the vote signer keys:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
docker run -v <span class="token environment constant">$PWD</span>:/root/.celo --rm -it <span class="token variable">$CELO_IMAGE</span> account new
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CELO_VALIDATOR_VOTE_SIGNER_ADDRESS</span><span class="token operator">=</span><span class="token operator">&lt;</span>YOUR-VALIDATOR-VOTE-SIGNER-ADDRESS<span class="token operator">&gt;</span>

docker run -v <span class="token environment constant">$PWD</span>:/root/.celo --rm -it <span class="token variable">$CELO_IMAGE</span> account new
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CELO_VALIDATOR_GROUP_VOTE_SIGNER_ADDRESS</span><span class="token operator">=</span><span class="token operator">&lt;</span>YOUR-VALIDATOR-GROUP-VOTE-SIGNER-ADDRESS<span class="token operator">&gt;</span>
</code></pre></div><p>Produce the proof-of-possessions needed to authorize the vote signers:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
docker run -v <span class="token environment constant">$PWD</span>:/root/.celo --rm -it <span class="token variable">$CELO_IMAGE</span> --nousb account proof-of-possession <span class="token variable">$CELO_VALIDATOR_VOTE_SIGNER_ADDRESS</span> <span class="token variable">$CELO_VALIDATOR_RG_ADDRESS</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CELO_VALIDATOR_VOTE_SIGNER_SIGNATURE</span><span class="token operator">=</span><span class="token operator">&lt;</span>YOUR-VALIDATOR-VOTE-SIGNER-SIGNATURE<span class="token operator">&gt;</span>

docker run -v <span class="token environment constant">$PWD</span>:/root/.celo --rm -it <span class="token variable">$CELO_IMAGE</span> --nousb account proof-of-possession <span class="token variable">$CELO_VALIDATOR_GROUP_VOTE_SIGNER_ADDRESS</span> <span class="token variable">$CELO_VALIDATOR_GROUP_RG_ADDRESS</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CELO_VALIDATOR_GROUP_VOTE_SIGNER_SIGNATURE</span><span class="token operator">=</span><span class="token operator">&lt;</span>YOUR-VALIDATOR-GROUP-VOTE-SIGNER-SIGNATURE<span class="token operator">&gt;</span>
</code></pre></div><p>Authorize the vote signing keys:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
celocli releasegold:authorize --contract <span class="token variable">$CELO_VALIDATOR_RG_ADDRESS</span> --role vote --signature 0x<span class="token variable">$CELO_VALIDATOR_VOTE_SIGNER_SIGNATURE</span> --signer <span class="token variable">$CELO_VALIDATOR_VOTE_SIGNER_ADDRESS</span>
celocli releasegold:authorize --contract <span class="token variable">$CELO_VALIDATOR_GROUP_RG_ADDRESS</span> --role vote --signature 0x<span class="token variable">$CELO_VALIDATOR_GROUP_VOTE_SIGNER_SIGNATURE</span> --signer <span class="token variable">$CELO_VALIDATOR_GROUP_VOTE_SIGNER_ADDRESS</span>
</code></pre></div><h4 id="submit-your-votes"><a href="#submit-your-votes" class="header-anchor">#</a> Submit your votes</h4> <p>Now the newly authorized vote signers can be used to vote for your validator group:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
celocli election:vote --from <span class="token variable">$CELO_VALIDATOR_VOTE_SIGNER_ADDRESS</span> --for <span class="token variable">$CELO_VALIDATOR_GROUP_RG_ADDRESS</span> --value 10000e18
celocli election:vote --from <span class="token variable">$CELO_VALIDATOR_GROUP_VOTE_SIGNER_ADDRESS</span> --for <span class="token variable">$CELO_VALIDATOR_GROUP_RG_ADDRESS</span> --value 10000e18
</code></pre></div><p>Verify that your votes were cast successfully:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
celocli election:show <span class="token variable">$CELO_VALIDATOR_GROUP_RG_ADDRESS</span> --group
celocli election:show <span class="token variable">$CELO_VALIDATOR_GROUP_RG_ADDRESS</span> --voter
celocli election:show <span class="token variable">$CELO_VALIDATOR_RG_ADDRESS</span> --voter
</code></pre></div><p>Users in the Celo protocol receive epoch rewards for voting in Validator Elections only after submitting a special transaction to enable rewards. This must be done every time new votes are cast, and can only be made after the most recent epoch has ended. For convenience, we can use the following command, which will wait until the epoch has ended before sending a transaction:</p> <p>{% hint style=&quot;info&quot; %}
Epoch lengths in the mainnet network are set to be the number of blocks produced in a day. As a result, votes may need to be activated up to 24 hours after they are cast.
{% endhint %}</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
<span class="token comment"># Note that this command will wait for the next epoch transition, which may be up to 24 hours in the future.</span>
celocli election:activate --from <span class="token variable">$CELO_VALIDATOR_VOTE_SIGNER_ADDRESS</span> --wait <span class="token operator">&amp;&amp;</span> celocli election:activate --from <span class="token variable">$CELO_VALIDATOR_GROUP_VOTE_SIGNER_ADDRESS</span> --wait
</code></pre></div><p>Check that your votes were activated by re-running the following commands:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
celocli election:show <span class="token variable">$CELO_VALIDATOR_GROUP_RG_ADDRESS</span> --voter
celocli election:show <span class="token variable">$CELO_VALIDATOR_RG_ADDRESS</span> --voter
</code></pre></div><p>If your Validator Group elects validators, you will receive epoch rewards in the form of additional Locked Gold voting for your Validator Group. You can see these rewards accumulate with the commands in the previous set, as well as:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
celocli lockedgold:show <span class="token variable">$CELO_VALIDATOR_GROUP_RG_ADDRESS</span>
celocli lockedgold:show <span class="token variable">$CELO_VALIDATOR_RG_ADDRESS</span>
</code></pre></div><p>You're all set! Elections are finalized at the end of each epoch, roughly once a day in the Mainnet network. If you get elected, your node will start participating in BFT consensus and validating blocks. After the first epoch in which your Validator participates in BFT, you should receive your first set of epoch rewards.</p> <p>You can inspect the current state of the Validator elections by running:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
celocli election:list
</code></pre></div><p>You can check the status of your Validator, including whether it is elected and signing blocks, at <a href="https://stats.celo.org/" target="_blank" rel="noopener noreferrer">stats.celo.org/<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> or by running:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
celocli validator:status --validator <span class="token variable">$CELO_VALIDATOR_RG_ADDRESS</span>
</code></pre></div><p>You can see additional information about your Validator, including uptime score, by running:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># On your local machine</span>
celocli validator:show <span class="token variable">$CELO_VALIDATOR_RG_ADDRESS</span>
</code></pre></div><h2 id="running-the-attestation-service"><a href="#running-the-attestation-service" class="header-anchor">#</a> Running the Attestation Service</h2> <p>Validators are expected to run an <a href="/celo-docs/docs/operations-manual/attestation-service.html">Attestation Service</a> to provide attestations that allow users to map their phone number to an account on Celo. Follow the instructions now to <a href="/celo-docs/docs/operations-manual/attestation-service.html">set up the service</a>.</p> <h2 id="deployment-tips"><a href="#deployment-tips" class="header-anchor">#</a> Deployment Tips</h2> <h3 id="running-the-docker-containers-in-the-background"><a href="#running-the-docker-containers-in-the-background" class="header-anchor">#</a> Running the Docker containers in the background</h3> <p>There are different options for executing Docker containers in the background. The most typical one is to use in your docker run commands the <code>-d</code> option. Also for long running processes, especially when you run in on a remote machine, you can use a tool like <a href="https://ss64.com/osx/screen.html" target="_blank" rel="noopener noreferrer">screen<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. It allows you to connect and disconnect from running processes providing an easy way to manage long running processes.</p> <p>It's out of the scope of this documentation to go through the <code>screen</code> options, but you can use the following command format with your <code>docker</code> commands:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">screen</span> -S <span class="token operator">&lt;</span><span class="token environment constant">SESSION</span> NAME<span class="token operator">&gt;</span> -d -m <span class="token operator">&lt;</span>YOUR COMMAND<span class="token operator">&gt;</span>
</code></pre></div><p>For example:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">screen</span> -S celo-validator -d -m docker run --name celo-validator -it --restart unless-stopped -p <span class="token number">127.0</span>.0.1:8545:8545 <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.
</code></pre></div><p>You can list your existing <code>screen</code> sessions:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">screen</span> -ls
</code></pre></div><p>And re-attach to any of the existing sessions:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">screen</span> -r -S celo-validator
</code></pre></div><h3 id="stopping-containers"><a href="#stopping-containers" class="header-anchor">#</a> Stopping containers</h3> <p>You can stop the Docker containers at any time without problem. If you stop your containers that means those containers stop providing service.
The data directory of the Validator and the proxy are Docker volumes mounted in the containers from the <code>celo-*-dir</code> you created at the very beginning. So if you don't remove that folder, you can stop or restart the containers without losing any data.</p> <p>It is recommended to use the Docker stop timeout parameter <code>-t</code> when stopping the containers. This allows time, in this case 60 seconds, for the Celo nodes to flush recent chain data it keeps in memory into the data directories. Omitting this may cause your blockchain data to corrupt, requiring the node to start syncing from scratch.</p> <p>You can stop the <code>celo-validator</code> and <code>celo-proxy</code> containers running:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>docker stop celo-validator celo-proxy -t <span class="token number">60</span>
</code></pre></div><p>And you can remove the containers (not the data directory) by running:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>docker <span class="token function">rm</span> -f celo-validator celo-proxy
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/celo-docs/assets/js/app.22fe05f4.js" defer></script><script src="/celo-docs/assets/js/2.ae9bff2d.js" defer></script><script src="/celo-docs/assets/js/364.cf35ea7a.js" defer></script>
  </body>
</html>
